<!DOCTYPE html>
<html>
	<head>
		<title>Querybuilder as datatable filter with sorting</title>
		<script src="../../codebase/webix/webix.js?v=7.4.6" type="text/javascript"></script>
		<script type="text/javascript" src="../../codebase/querybuilder.js?v=7.4.6"></script>
		
		<link rel="stylesheet" type="text/css" href="../../codebase/webix/webix.css?v=7.4.6">
		<link rel="stylesheet" type="text/css" href="../../codebase/querybuilder.css?v=7.4.6">
	</head>
	<body>
		<script type="text/javascript" charset="utf-8">
		var small_film_set = [
			{ id:1, title:"The Shawshank Redemption", year:1994, votes:678790, rating:9, rank:1, category:"Thriller"},
			{ id:2, title:"The Godfather", year:1972, votes:511495, rating:9, rank:2, category:"Crime"},
			{ id:3, title:"The Godfather: Part II", year:1974, votes:319352, rating:9, rank:3, category:"Crime"},
			{ id:4, title:"The Good, the Bad and the Ugly", year:1966, votes:213030, rating:7, rank:4, category:"Western"},
			{ id:5, title:"Pulp fiction", year:1994, votes:533848, rating:8, rank:5, category:"Crime"},
			{ id:6, title:"12 Angry Men", year:1957, votes:164558, rating:8, rank:6, category:"Western"}
		];

		var fields = [
			{ id:"rating", value:"Rating", type:"number" },
			{ id:"title", value:"Title",  type:"string" },
			{ id:"votes",  value:"Votes", type:"number" }
		];

		var grid = {
			view:"datatable",
			columns:[					
				{ id:"dummy", width:40, header:{ content:"queryBuilder", queryConfig:{ sorting:true }, fields:fields }},
				{ id:"title",   header:"Film title",    fillspace:true,  sort:"string"},
				{ id:"year",    header:"Released",  width:100,  sort:"int"},
				{ id:"votes",   header:"Votes",         width:100,  sort:"int"},
				{ id:"rating",  header:"Rating",        width:70,  sort:"int"},
				{ id:"category", header:"Category", width:100},
			],
			borderless:false,
			autoheight:true,
			
			data:small_film_set
		};

		var grid2 = webix.copy(grid);
		grid2.columns[0].header.queryConfig.columnMode = true;
		grid2.columns[0].header.popupConfig = { width: -1 };

		webix.ready(function(){
			webix.ui({
				rows: [
					{ type:"header", template:"Default mode" },
					grid,
					{ height:50 },
					{ type:"header", template:"Columns mode" },
					grid2
				]
			});
		});
		</script>
	</body>
</html>