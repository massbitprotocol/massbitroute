{"version":3,"file":"scheduler.js","sources":["../sources/views/button.js","../sources/defaults/config.js","../sources/scheduler_recurring.js","../sources/defaults/templates.js","../sources/views/dayevents.js","../sources/views/datetext.js","../sources/views/weekevents.js","../sources/views/ariabutton.js","../sources/views/recurring/datecells.js","../sources/views/recurring/rectext.js","../sources/views/recurring/endrec.js","../sources/views/recurring/reclist.js","../sources/views/recurring/daily.js","../sources/views/recurring/weekly.js","../sources/views/recurring/weeklist.js","../sources/views/recurring/monthly.js","../sources/views/recurring/yearly.js","../sources/views/recurring/dialog.js","../sources/scheduler.js","../sources/defaults/locale.js","../sources/defaults/xy.js"],"sourcesContent":["webix.protoUI({\n\tname:\"altbutton\",\n\t$cssName:\"button\",\n\t$renderInput:function(obj){\n\t\tvar css = \" class='webixtype_\"+(obj.type||\"base\")+\"' \";\n\t\treturn \"<button type='button' \"+(obj.popup?\"aria-haspopup='true'\":\"\")+css+\">\"+webix.template.escape(obj.label||obj.value)+\"</button>\";\n\t}\n}, webix.ui.button);","export const values = {\n\tinit_date : new Date(),\n\tform_date : \"%d-%m-%Y %H:%i\",\n\tform_all_day : \"%d-%m-%Y\",\n\tparse_date : \"%Y-%m-%d %H:%i\",\n\tweek_date: \"%D, %d %M\",\n\tdyn_load_date : \"%Y-%m-%d\",\n\titem_date : \"%d.%m.%Y\",\n\tall_day_date : \"%l, %d %F %Y\",\n\tday_header_date : \"%d.%m.%Y\",\n\tweek_header_date : \"%d.%m.%Y\",\n\thour_date : \"%H:%i\",\n\tscale_hour : \"%H\",\n\tcalendar_date : \"%F %Y\",\n\tcalendar_hour : \"%H:%i\",\n\tform_rules : {\n\t\tend_date:function(value,obj){\n\t\t\treturn (obj.start_date.valueOf() < value.valueOf());\n\t\t}\n\t},\n\tmulti_day: true,\n\tmulti_day_limit: 3,\n\tviews : [],\n\ttab_views : [],\n\tserver_utc: false,\n\tseparate_short_events: true,\n\trecurring: false,\n\tendless_date: new Date(9999,1,1),\n\trecurring_dialogs: false\n};\n\nexport function init(){\n\tvar config  = scheduler.config;\n\tvar labels = scheduler.locale.labels;\n\n\tif(!config.form){\n\t\tconfig.form = [\n\t\t\t{view:\"text\",\t\tlabel:labels.label_event, labelWidth: 90,\tname:\"text\"},\n\t\t\t{view:\"datetext\",\tlabel:labels.label_start, labelWidth: 90,\tid:\"start_date\",name:\"start_date\", dateFormat:config.form_date},\n\t\t\t{view:\"datetext\",\tlabel:labels.label_end, labelWidth: 90,\tid:\"end_date\",name:\"end_date\", dateFormat:config.form_date},\n\t\t\t{view:\"checkbox\",\tid:\"allDay\", name:\"allDay\", label:labels.label_allday, labelWidth: 100,  value:0},\n\t\t\t{view:\"textarea\",\tlabel:labels.label_details,\tname:\"details\", labelWidth: 90,\t\theight:150},\n\t\t\t{}\n\t\t];\n\t}\n\tif(!config.calendar_hour){\n\t\tvar hourPart = config.hour_date.match(/%[h,H,g,G]/gi);\n\t\tvar aPart = config.hour_date.match(/%[a,A]/gi);\n\t\tconfig.calendar_hour = hourPart[0]+(aPart?\" \"+aPart[0]:\"\");\n\t}\n\tif(!config.bottom_toolbar){\n\t\tconfig.bottom_toolbar = [\n\t\t\t{ view:\"altbutton\", id:\"today\", name: \"today\", type:\"flat\", label:labels.icon_today, inputWidth:scheduler.xy.icon_today, align:\"center\", width:scheduler.xy.icon_today+6},\n\t\t\t{ view:\"segmented\", id:\"buttons\",value:(config.mode||\"week\"),align:\"center\", multiview:true, options:[\n\t\t\t\t{id:\"day\", value:labels.day_tab, width:scheduler.xy.day_tab},\n\t\t\t\t{id:\"week\", value:labels.week_tab, width:scheduler.xy.week_tab},\n\t\t\t\t{id:\"month\", value:labels.month_tab, width:scheduler.xy.month_tab}\n\t\t\t]},\n\t\t\t{ view:\"ariabutton\", label:labels.icon_add, type:\"icon\", icon:\"wxi-plus\", name:\"add\", id:\"add\", align:\"center\",width:45, batch:\"default\"},\n\t\t\t{ view:\"label\", label:\"\", width:45, batch:\"readonly\"}\n\t\t];\n\t}\n\tif(!config.day_toolbar){\n\t\tconfig.day_toolbar = [\n\t\t\t{view:\"ariabutton\", label:labels.icon_prev_day, type:\"iconprev\", id:\"prev\", align:\"left\", width: 40},\n\t\t\t{view:\"label\", id:\"date\", align:\"center\"},\n\t\t\t{view:\"ariabutton\", label:labels.icon_next_day, type:\"iconnext\", id:\"next\", align:\"right\", width: 40}\n\t\t];\n\t}\n\tif(!config.week_toolbar){\n\t\tconfig.week_toolbar = [\n\t\t\t{view:\"ariabutton\", label:labels.icon_prev_week, type:\"iconprev\", name: \"prevWeek\", id:\"prevWeek\", width: 40, align:\"left\"},\n\t\t\t{view:\"label\", id:\"weekTitle\", align:\"center\"},\n\t\t\t{view:\"ariabutton\", label:labels.icon_next_week, type:\"iconnext\", id:\"nextWeek\", align:\"right\", width: 40}\n\t\t];\n\t}\n\tif(!config.selected_toolbar){\n\t\tconfig.selected_toolbar = [\n\t\t\t{view:\"altbutton\", width:scheduler.xy.icon_back, type:\"flat\", name:\"back\", id:\"back\", align:\"center\", label:labels.icon_back},\n\t\t\t{view:\"altbutton\",  inputWidth:scheduler.xy.icon_edit, name:\"edit\", id:\"edit\", align:\"right\", label:labels.icon_edit}\n\t\t];\n\t}\n\tif(!config.form_toolbar){\n\t\tconfig.form_toolbar = [\n\t\t\t{view:\"altbutton\", type:\"flat\", width:scheduler.xy.icon_cancel, name:\"cancel\", id:\"cancel\",align:\"center\", label:labels.icon_cancel},\n\t\t\t{view:\"altbutton\", inputWidth:scheduler.xy.icon_save, name:\"save\", id:\"save\", align:\"right\", label:labels.icon_save}\n\t\t];\n\t}\n\tif(!config.date_toolbar){\n\t\tconfig.date_toolbar = [\n\t\t\t{view:\"altbutton\", type:\"flat\", width:scheduler.xy.icon_cancel, name:\"cancel_date\", id:\"cancel_date\", align:\"center\", label:labels.icon_cancel},\n\t\t\t{view:\"label\", id:\"datetype\", align:\"center\"},\n\t\t\t{view:\"altbutton\", width: scheduler.xy.icon_done, name:\"done\", id:\"done\", align:\"right\", label:labels.icon_done}\n\t\t];\n\t}\n}","export var code = function(){\n\n\tvar labels = scheduler.locale.labels;\n\tvar xy = scheduler.xy;\n\tvar config = scheduler.config;\n\tvar templates = scheduler.templates;\n\n\n\twebix.attachEvent(\"onAfterSchedulerInit\", function(scheduler){\n\t\tif(!config.recurring) return false;\n\n\t\twebix.delay(function(){\n\t\t\tscheduler.$$(\"editForm\").define(\"dataFeed\", function(data){\n\t\t\t\tdata = webix.copy(this.getTopParentView().getItem(data));\n\t\t\t\tdelete data.id;\n\t\t\t\tif (data.rec_type){\n\t\t\t\t\tdata.endRepeat = data.end_date;\n\t\t\t\t\tdata.end_date = new Date(data.start_date.valueOf()+data.event_length*1000);\n\t\t\t\t}\n\t\t\t\tthis.setValues(data);\n\t\t\t});\t\n\t\t\tscheduler.$$(\"editForm\").getValueBase = scheduler.$$(\"editForm\").getValues;\n\t\t\tscheduler.$$(\"editForm\").getValues = function(){\n\t\t\t\tvar data = this.getValueBase();\n\t\t\t\tif (data.rec_type){\n\t\t\t\t\tdata.event_length = Math.round((data.end_date - data.start_date) / 1000);\n\t\t\t\t\tdata.end_date = data.endRepeat||data.end_date;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t};\n\t\t});\n\n\t\tscheduler.getEventsBase = scheduler.getEvents;\n\t\tscheduler.getEvents = function(from,to){\n\t\t\tto = to||webix.Date.add(from, 1, \"month\",true);\n\n\t\t\tvar evs = this.getEventsBase(from, to);\n\t\t\tvar out = [];\n\t\t\tfor (var i = 0; i < evs.length; i++){\n\t\t\t\tif (evs[i].rec_type)\n\t\t\t\t\tthis.repeat_date(evs[i], out, from, to);\n\t\t\t\telse\n\t\t\t\t\tout.push(evs[i]);\n\t\t\t}\n\n\t\t\tout.sort(function(a,b){\n\t\t\t\ta = a.start_date;\n\t\t\t\tb = b.start_date;\n\t\t\t\treturn a>b?1:(a<b?-1:0);\n\t\t\t});\n\t\t\treturn out;\n\t\t};\n\t\tscheduler._saveEventBase = scheduler._saveEvent;\n\t\tscheduler._saveEvent = function(){\n\t\t\tif(!this.config.editEvent && this.$$(\"editForm\").validate()){\n\t\t\t\tvar data = this.$$(\"editForm\").getValues();\n\t\t\t\tif(data.event_pid){\n\t\t\t\t\tdata.id = webix.uid();\n\t\t\t\t\tif(data.details&&this._trim(data.text)===\"\"&&this._trim(data.details)!==\"\")\n\t\t\t\t\t\tdata.text = data.details;\n\n\t\t\t\t\tdata.event_length = data.start_date.valueOf()/1000;\n\t\t\t\t\tthis._add_rec_marker(data,data.start_date.valueOf());\n\t\t\t\t\tthis.add(data);\n\t\t\t\t\tthis.setCursor(data.id);\n\t\t\t\t\tthis.setDate();\n\t\t\t\t\tthis.$$(\"views\").back();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._saveEventBase.call(this);\n\t\t};\n\n\t\tscheduler._editEventBase = scheduler._editEvent;\n\t\tscheduler._editEvent = function(){\n\t\t\tvar item = this.getItem(this.getCursor());\n\t\t\tif((item.rec_type || item.event_pid) && config.recurring_dialogs){\n\t\t\t\twebix.rec_dialog({\n\t\t\t\t\theight:xy.confirm_height,\n\t\t\t\t\twidth:xy.confirm_width,\n\t\t\t\t\tmessage: labels.recurring.edit_message,\n\t\t\t\t\tcallback: function(result) {\n\t\t\t\t\t\tif (result == 1){\n\t\t\t\t\t\t\tif(item.event_pid)\n\t\t\t\t\t\t\t\tscheduler.setCursor(item.event_pid);\n\t\t\t\t\t\t\tscheduler._editEventBase.call(scheduler);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (result == 2)\n\t\t\t\t\t\t\tscheduler._applyRecExeption(\"edit\");\n\t\t\t\t\t},\n\t\t\t\t\tlabelSeries:labels.recurring.edit_series,\n\t\t\t\t\tlabelEvent:labels.recurring.edit_occurrence,\n\t\t\t\t\tlabelCancel:labels.icon_cancel\n\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t\tscheduler._editEventBase.call(this);\n\t\t};\n\t\tscheduler._deleteEventBase = scheduler._deleteEvent;\n\t\tscheduler._deleteEvent = function(){\n\t\t\tvar item = this.getItem(this.getCursor());\n\t\t\tif((item.rec_type || item.event_pid) && config.recurring_dialogs){\n\t\t\t\twebix.rec_dialog({\n\t\t\t\t\theight:xy.confirm_height,\n\t\t\t\t\twidth:xy.confirm_width,\n\n\t\t\t\t\tmessage: labels.recurring.delete_message,\n\t\t\t\t\tcallback: function(result) {\n\t\t\t\t\t\tif (result == 1){\n\t\t\t\t\t\t\tscheduler.remove(scheduler.getCursor());\n\t\t\t\t\t\t\tscheduler.setDate();\n\t\t\t\t\t\t\tscheduler.$$(\"views\").back(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (result == 2)\n\t\t\t\t\t\t\tscheduler._applyRecExeption(\"remove\");\n\t\t\t\t\t},\n\t\t\t\t\tlabelSeries:labels.recurring.delete_series,\n\t\t\t\t\tlabelEvent:labels.recurring.delete_occurrence,\n\t\t\t\t\tlabelCancel:labels.icon_cancel\n\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t\tscheduler._deleteEventBase.call(this);\n\t\t};\n\n\n\t\tscheduler._applyRecExeption = function(mode){\n\t\t\tvar data, id;\n\t\t\tif( mode == \"edit\" ){\n\t\t\t\tdata = webix.copy(this.getItem(this.getCursor()));\n\n\t\t\t\tif(data.rec_type){\n\t\t\t\t\tthis.define(\"editEvent\",false);\n\n\t\t\t\t\tif(this.$$(\"rec_type\") && !this.$$(\"rec_type\").config.hidden)\n\t\t\t\t\t\tthis._recTypeState = \"hide\";\n\n\t\t\t\t\tthis.$$(\"form\").show();\n\n\t\t\t\t\tthis.$$(\"editForm\").clear();\n\n\t\t\t\t\tdata.event_pid = data.id;\n\t\t\t\t\tid = this._last_selected;\n\n\t\t\t\t\tif (!id && !id[1])\n\t\t\t\t\t\treturn scheduler._editEventBase.call(this);\n\n\t\t\t\t\tdata.start_date = new Date(id[1]*1000);\n\t\t\t\t\tdata.end_date = new Date(id[1]*1000+data.event_length*1000);\n\n\t\t\t\t\tdelete data.id;\n\n\t\t\t\t\tdata.rec_type = data.rec_pattern = \"\";\n\n\t\t\t\t\tdata.end_date = new Date(data.start_date.valueOf()+data.event_length*1000);\n\t\t\t\t\tthis.$$(\"editForm\").setValues(data);\n\t\t\t\t\tthis._setDefaultDates();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tscheduler._editEventBase.call(this);\n\t\t\t}\n\t\t\telse if( mode == \"remove\" ){\n\t\t\t\tdata = webix.copy(this.getItem(this.getCursor()));\n\t\t\t\tdata.event_pid = data.id;\n\t\t\t\tid = this._last_selected;\n\n\t\t\t\tif (!id || !id[1])\n\t\t\t\t\treturn ;\n\n\t\t\t\tdata.start_date = new Date(id[1]*1000);\n\t\t\t\tdata.end_date = new Date(id[1]*1000+data.event_length*1000);\n\n\t\t\t\tdata.id = webix.uid();\n\t\t\t\tdata.rec_type = data.rec_pattern=  \"none\";\n\n\t\t\t\tdata.end_date = new Date(data.start_date.valueOf()+data.event_length*1000);\n\t\t\t\tdata.event_length = data.start_date.valueOf()/1000;\n\n\t\t\t\tthis._add_rec_marker(data,data.start_date.valueOf());\n\t\t\t\tthis.add(data);\n\t\t\t\t//this.setCursor(data.id);\n\t\t\t\tthis.setDate();\n\t\t\t\tthis.$$(\"views\").back();\n\t\t\t}\n\t\t};\n\n\n\t\tscheduler._rec_markers = {};\n\t\tscheduler._rec_markers_pull = {};\n\t\tscheduler._add_rec_marker = function(ev,time){\n\t\t\tev._pid_time = time;\n\t\t\tthis._rec_markers[ev.id] = ev;\n\t\t\tif (!this._rec_markers_pull[ev.event_pid]) this._rec_markers_pull[ev.event_pid] = {};\n\t\t\tthis._rec_markers_pull[ev.event_pid][time]=ev;\n\t\t};\n\t\tscheduler._get_rec_marker = function(time, id){\n\t\t\tvar ch = this._rec_markers_pull[id];\n\t\t\tif (ch) return ch[time];\n\t\t\treturn null;\t \n\t\t};\n\t\tscheduler._get_rec_markers = function(id){\n\t\t\treturn (this._rec_markers_pull[id]||[]);\t\n\t\t};\n\n\t\tscheduler.data.scheme({\n\t\t\t$init:function(data){\n\t\t\t\tif(typeof data.start_date == \"string\")\n\t\t\t\t\tdata.start_date\t= webix.i18n.fullDateFormatDate(data.start_date);\n\t\t\t\tif(typeof data.end_date == \"string\")\n\t\t\t\t\tdata.end_date \t= webix.i18n.fullDateFormatDate(data.end_date);\n\n\t\t\t\tif (data.event_pid)\n\t\t\t\t\tscheduler._add_rec_marker(data, data.event_length*1000);\n\t\t\t},\n\t\t\t$serialize:function(data){\n\t\t\t\tvar obj = {};\n\t\t\t\tobj.start_date = webix.i18n.fullDateFormatStr(webix.Date.copy(data.start_date));\n\t\t\t\tobj.end_date = webix.i18n.fullDateFormatStr(webix.Date.copy(data.end_date));\n\t\t\t\twebix.extend(obj,data);\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t});\n\t\t\n\n\t\tscheduler.transponse_size={\n\t\t\tday:1, week:7, month:1, year:12 \n\t\t};\n\t\tscheduler.day_week=function(sd,day,week){\n\t\t\tsd.setDate(1);\n\t\t\tweek = (week-1)*7;\n\t\t\tvar cday = sd.getDay();\n\t\t\tvar nday=(day==7?0:(day*1))+week-cday+1;\n\t\t\tsd.setDate(nday<=week?(nday+7):nday);\n\t\t};\n\t\tscheduler.transpose_day_week=function(sd,list,cor,size,cor2){\n\t\t\tvar cday = (sd.getDay()||(webix.Date.startOnMonday?7:0))-cor;\n\t\t\tfor (var i=0; i < list.length; i++) {\n\t\t\t\tif (list[i]>cday)\n\t\t\t\t\treturn sd.setDate(sd.getDate()+list[i]*1-cday-(size?cor:cor2));\n\t\t\t}\n\t\t\tscheduler.transpose_day_week(sd,list,cor+size,null,cor);\n\t\t};\t\n\t\tscheduler.transpose_type = function(type){\n\t\t\tvar f = \"transpose_\"+type;\n\t\t\tif (!webix.Date[f]) {\n\t\t\t\tvar str = type.split(\"_\");\n\t\t\t\tvar day = 60*60*24*1000;\n\t\t\t\tvar step = scheduler.transponse_size[str[0]]*str[1];\n\t\t\t\t\n\t\t\t\tif (str[0]==\"day\" || str[0]==\"week\"){\n\t\t\t\t\tvar days = null;\n\t\t\t\t\tif (str[4]){\n\t\t\t\t\t\tdays=str[4].split(\",\");\n\t\t\t\t\t\tif (webix.Date.startOnMonday){\n\t\t\t\t\t\t\tfor (var i=0; i < days.length; i++)\n\t\t\t\t\t\t\t\tdays[i]=(days[i]*1)||7;\n\t\t\t\t\t\t\tdays.sort();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\twebix.Date[f] = function(nd,td){\n\t\t\t\t\t\tvar delta = Math.floor((td.valueOf()-nd.valueOf())/(day*step));\n\t\t\t\t\t\tif (delta>0)\n\t\t\t\t\t\t\tnd.setDate(nd.getDate()+delta*step);\n\t\t\t\t\t\tif (days)\n\t\t\t\t\t\t\tscheduler.transpose_day_week(nd,days,1,step);\n\t\t\t\t\t};\n\t\t\t\t\twebix.Date.add[type] = function(nd,inc){\n\t\t\t\t\t\tif (days){\n\t\t\t\t\t\t\tfor (var count=0; count < inc; count++)\n\t\t\t\t\t\t\t\tscheduler.transpose_day_week(nd,days,0,step);\t\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tnd.setDate(nd.getDate()+inc*step);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn nd;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if (str[0]==\"month\" || str[0]==\"year\"){\n\t\t\t\t\twebix.Date[f] = function(nd,td){\n\t\t\t\t\t\tvar delta = Math.ceil(((td.getFullYear()*12+td.getMonth()*1)-(nd.getFullYear()*12+nd.getMonth()*1))/(step));\n\t\t\t\t\t\tif (delta>=0)\n\t\t\t\t\t\t\tnd.setMonth(nd.getMonth()+delta*step);\n\t\t\t\t\t\tif (str[3])\n\t\t\t\t\t\t\tscheduler.day_week(nd,str[2],str[3]);\n\t\t\t\t\t};\n\t\t\t\t\twebix.Date.add[type] = function(nd,inc){\n\t\t\t\t\t\tnd.setMonth(nd.getMonth()+inc*step);\n\t\t\t\t\t\tif (str[3])\n\t\t\t\t\t\t\tscheduler.day_week(nd,str[2],str[3]);\n\t\t\t\t\t\treturn nd;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tscheduler.data.attachEvent(\"onStoreUpdated\", function(id, data, mode){\n\t\t\tif (mode == \"delete\" || mode == \"update\" || (mode == \"insert\" && !data.rec_type && data.event_pid)){\n\t\t\t\tthis.blockEvent();\n\t\t\t\tvar sub = scheduler._get_rec_markers(id);\n\t\t\t\tscheduler._rec_markers_pull[id] = null;\n\t\t\t\tfor (var i in sub) {\n\t\t\t\t\tif(sub.hasOwnProperty(i)){\n\t\t\t\t\t\tid = sub[i].id;\n\t\t\t\t\t\tif(this.getItem(id))\n\t\t\t\t\t\t\tthis.remove(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.unblockEvent();\n\t\t\t}\n\n\t\t});\n\t\tscheduler.repeat_date=function(ev,stack,from,to){\n\t\t\tif (ev.rec_type == \"none\")\n\t\t\t\treturn;\n\n\t\t\tvar td = new Date(ev.start_date.valueOf());\n\t\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\n\t\t\t\n\t\t\tscheduler.transpose_type(ev.rec_pattern);\n\t\t\twebix.Date[\"transpose_\"+ev.rec_pattern](td, from);\n\t\t\t\n\t\t\twhile (td<ev.start_date || (td.valueOf()+ev.event_length*1000)<=from.valueOf())\n\t\t\t\ttd = webix.Date.add(td,1,ev.rec_pattern,true);\n\t\t\twhile (td < to && td < ev.end_date){\n\t\t\t\tvar ch = this._get_rec_marker(td.valueOf(),ev.id);\n\t\t\t\tif (!ch){\n\t\t\t\t\tvar ted = new Date(td.valueOf()+ev.event_length*1000);\n\t\t\t\t\tvar copy=webix.copy(ev);\n\t\t\t\t\t//copy._timed = ev._timed;\n\t\t\t\t\tcopy.text = ev.text;\n\t\t\t\t\tcopy.start_date = td;\n\t\t\t\t\tcopy.event_pid = ev.id;\n\t\t\t\t\tcopy.id = ev.id+\"#\"+Math.ceil(td.valueOf()/1000);\n\t\t\t\t\tcopy.end_date = ted;\n\t\t\t\n\t\t\t\t\tvar shift = copy.start_date.getTimezoneOffset() - copy.end_date.getTimezoneOffset();\n\t\t\t\t\tif (shift){\n\t\t\t\t\t\tif (shift>0) \n\t\t\t\t\t\t\tcopy.end_date = new Date(td.valueOf()+ev.event_length*1000-shift*60*1000);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcopy.end_date = new Date(copy.end_date.valueOf() + shift*60*1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tstack.push(copy);\n\t\t\t\t}\n\t\t\t\ttd = webix.Date.add(td,1,ev.rec_pattern,true);\n\t\t\t}\t\t\n\t\t};\n\n\t});\n\n\n\twebix.attachEvent(\"onBeforeSchedulerInit\",function(){\n\t\tif(!config.recurring) return true;\n\n\t\tif(!config.form){\n\t\t\tconfig.form = [\n\t\t\t\t{view:\"text\",\t\tlabel:labels.label_event,\tname:\"text\", labelWidth: 90},\n\t\t\t\t{view:\"datetext\",\tlabel:labels.label_start,\tid:\"start_date\",\tname:\"start_date\", dateFormat:config.form_date, labelWidth: 90},\n\t\t\t\t{view:\"datetext\",\tlabel:labels.label_end,\t\tid:\"end_date\",\t\tname:\"end_date\", \t  dateFormat:config.form_date, labelWidth: 90},\n\t\t\t\t{view:\"checkbox\",\tid:\"allDay\",\tname:\"allDay\", label:labels.label_allday,  value:0, labelWidth: 100},\n\t\t\t\t{view:\"rectext\",\tlabel:labels.recurring.repeat,\tid:\"rec_type\",\tname:\"rec_type\", readonly:true, labelWidth: 90},\n\t\t\t\t{view:\"textarea\",\tlabel:labels.label_details,\tid:\"details\",\tname:\"details\",\t\theight:110, labelWidth: 90},\n\t\t\t\t{view:\"text\",\thidden: true, id:\"event_length\", name:\"event_length\"}\n\t\t\t];\n\t\t}\n\t\t\t\n\t\tif(!config.recurring_bar){\n\t\t\tconfig.recurring_bar = [\n\t\t\t\t{view:\"label\", width:xy.icon_cancel, id:\"recCancel\", name:\"recCancel\",css:\"cancel\",align:\"center\",label:labels.icon_cancel,batch:\"default\"},\n\t\t\t\t{view:\"label\", width:xy.icon_cancel, id:\"recEndCancel\", name:\"recEndCancel\", css:\"cancel\",align:\"center\",label:labels.icon_cancel,batch:\"endRepeat\"},\n\t\t\t\t{},\n\t\t\t\t{view:\"altbutton\", width:xy.icon_done, id:\"recDone\", name:\"recDone\",align:\"right\",label:labels.icon_done,batch:\"default\"},\n\t\t\t\t{view:\"altbutton\", width:xy.icon_done, id:\"recDone2\", name:\"recDone2\", align:\"right\",label:labels.icon_done,batch:\"other\"},\n\n\t\t\t\t{view:\"altbutton\", width:xy.icon_done, id:\"recEndDone\", name:\"recEndDone\", align:\"right\",label:labels.icon_done,batch:\"endRepeat\"}\n\t\t\t];\n\t\t}\n\t\t/*list of recurring types in the first view*/\n\t\tif(!config.recurring_views_list)\n\t\t\tconfig.recurring_views_list = [\n\t\t\t\t{id:\"none\",value:labels.recurring.none, readonly:true},\n\t\t\t\t{id:\"daily\",value:labels.recurring.daily},\n\t\t\t\t{id:\"weekly\",value:labels.recurring.weekly},\n\t\t\t\t{id:\"monthly\",value:labels.recurring.monthly},\n\t\t\t\t{id:\"yearly\",value:labels.recurring.yearly}\n\t\t\t];\n\t\tif(!scheduler.templates.rec_list_item){\n\t\t\tscheduler.templates.rec_list_item = function(obj){\n\t\t\t\treturn obj.value +(!obj.readonly?\"<div class='webix_arrow_icon'></div>\":\"\");\n\t\t\t};\n\t\t}\n\t\t/* the initial view, the with \"repeat\" options*/\n\t\tif(!config.rec_init_form)\n\t\t\tconfig.rec_init_form = [\n\t\t\t\t{height:10},\n\t\t\t\t{view:\"reclist\",id:\"recList\", type:{height:42}, autoheight: true, scroll: false, select:true,css:\"rec_list\",value:\"none\",template:scheduler.templates.rec_list_item, datatype:\"json\",data:config.recurring_views_list, labelWidth:100},\n\t\t\t\t{ maxHeight: 42},\n\n\t\t\t\t{view:\"endrec\", id:\"endRepeat\", name:\"endRepeat\", labelWidth:xy.recurring.label_end_repeat,  label:labels.recurring.end_repeat},\n\n\t\t\t\t{}\n\t\t\t];\n\t\tif(!config.end_repeat_form)\n\t\t\tconfig.end_repeat_form = [\n\t\t\t\t{\n\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\tpaddingX: 10,\n\t\t\t\t\tpaddingY: 5,\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{view:\"radio\", css:\"webix_endby_radio\",vertical:true, id:\"endBy\",width:290, labelWidth:xy.recurring.label_end_by, height:80, options:[\n\t\t\t\t\t\t\t{ value:labels.recurring.endless_repeat, id: \"0\" },\n\t\t\t\t\t\t\t{ value:labels.recurring.end_repeat_label, id: \"1\" }\n\t\t\t\t\t\t]},\n\t\t\t\t\t\t{}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{view:\"calendar\", id:\"endByDate\", width:0, css:\"end_rep_calendar\",icons: false},{}\n\t\t\t];\n\t\t/*Daily view*/\n\t\tif(!config.daily_form)\n\t\t\tconfig.daily_form = [\n\n\t\t\t\t{\n\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\tcss: \"webix_rec_counter\",\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.every,width:xy.recurring.label_every},\n\t\t\t\t\t\t{view:\"counter\", id:\"dayCount\", name:\"dayCount\", value:1,width:125},\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.day}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t];\n\n\t\ttemplates.selected_event_base = templates.selected_event;\n\t\ttemplates.selected_event = function(ev,common){\n\t\t\tif (!ev.rec_type)\n\t\t\t\treturn templates.selected_event_base(ev);\n\t\t\telse{\n\t\t\t\tvar id = common.getTopParentView()._last_selected;\n\n\t\t\t\tif (!id || !id[1])\n\t\t\t\t\treturn templates.selected_event_base(ev);\n\n\t\t\t\tvar sd = ev.start_date;\n\t\t\t\tvar ed = ev.end_date;\n\t\t\t\tev.start_date = new Date(id[1]*1000);\n\t\t\t\tev.end_date = new Date(id[1]*1000+ev.event_length*1000);\n\n\t\t\t\tvar html = templates.selected_event_base(ev);\n\n\t\t\t\tev.start_date = sd;\n\t\t\t\tev.end_date = ed;\n\t\t\t\treturn html;\n\t\t\t}\n\t\t};\n\n\t\t/*Weekly view*/\n\n\t\tif(!config.weekly_form)\n\t\t\tconfig.weekly_form = [\n\t\t\t\t{\n\t\t\t\t\theight:10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\tcss: \"webix_rec_counter\",\n\t\t\t\t\tpaddingX: 8,\n\t\t\t\t\theight:42,\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{view:\"label\", borderless: true, label:labels.recurring.every,width:xy.recurring.label_every},\n\t\t\t\t\t\t{view:\"counter\", id:\"weekCount\", name:\"weekCount\", value:1,width:125},\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.week}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{view:\"weeklist\",id:\"weekDays\", name:\"weekDays\"},\n\t\t\t\t{}\n\t\t\t];\n\t\t\n\t\t\n\t\t/*Monthly view*/\n\t\tvar monthDays = {};\n\t\tfor(var i=1;i<32;i++)\n\t\t\tmonthDays[i]=i;\n\t\t\t\n\t\tif(!scheduler.templates.rec_month_d)\n\t\t\tscheduler.templates.rec_month_d = function(){\n\t\t\t\treturn \"<div class='radio'><div class='on'></div></div><div class='text'>\"+labels.recurring.month_day+\"</div>\";\n\t\t\t};\n\t\tif(!scheduler.templates.rec_month_w)\n\t\t\tscheduler.templates.rec_month_w = function(){\n\t\t\t\treturn \"<div class='radio'><div class='on'></div></div><div class='text'>\"+labels.recurring.week_day+\"</div>\";\n\t\t\t};\n\t\t\n\t\tif(!scheduler.templates.rec_month_d_blured)\n\t\t\tscheduler.templates.rec_month_d_blured = function(){\n\t\t\t\treturn \"<div class='radio blured'></div><div class='text'>\"+labels.recurring.month_day+\"</div>\";\n\t\t\t};\n\t\tif(!scheduler.templates.rec_month_w_blured)\n\t\t\tscheduler.templates.rec_month_w_blured = function(){\n\t\t\t\treturn \"<div class='radio blured'></div><div class='text'>\"+labels.recurring.week_day+\"</div>\";\n\t\t\t};\n\t\t\t\n\t\tif(!config.week_day_counters)\n\t\t\tconfig.week_day_counters = [\n\t\t\t\t{id:1,value:labels.recurring.counters[0]},\n\t\t\t\t{id:2,value:labels.recurring.counters[1]},\n\t\t\t\t{id:3,value:labels.recurring.counters[2]},\n\t\t\t\t{id:4,value:labels.recurring.counters[3]},\n\t\t\t\t{id:5,value:labels.recurring.counters[4]}\n\t\t\t];\n\t\tif(!config.week_day_labels)\n\t\t\tconfig.week_day_labels = [\n\t\t\t\t{id:1,value:webix.i18n.calendar.dayFull[1]},\n\t\t\t\t{id:2,value:webix.i18n.calendar.dayFull[2]},\n\t\t\t\t{id:3,value:webix.i18n.calendar.dayFull[3]},\n\t\t\t\t{id:4,value:webix.i18n.calendar.dayFull[4]},\n\t\t\t\t{id:5,value:webix.i18n.calendar.dayFull[5]},\n\t\t\t\t{id:6,value:webix.i18n.calendar.dayFull[6]},\n\t\t\t\t{id:7,value:webix.i18n.calendar.dayFull[0]}\n\t\t\t];\n\t\tif(!config.monthly_form)\n\t\t\tconfig.monthly_form = [\n\n\t\t\t\t{\n\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\tpaddingX: 10,\n\t\t\t\t\theight:42,\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.every,width:xy.recurring.label_every},\n\t\t\t\t\t\t{view:\"counter\", id:\"monthCount\", name:\"monthCount\", value:1,width:125},\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.month},\n\t\t\t\t\t\t{view:\"text\", hidden: true, name:\"monthType\",value:\"Day\",width:1}\n\t\t\t\t\t]\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tview:\"accordion\",\n\t\t\t\t\tid:\"monthTypeSelect\",\n\t\t\t\t\t//borderless: true,\n\t\t\t\t\trows:[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\theaderAltHeight:50,\n\t\t\t\t\t\t\theaderHeight:50,\n\t\t\t\t\t\t\tid:\"typeDayM\",\n\t\t\t\t\t\t\theader:scheduler.templates.rec_month_d,\n\t\t\t\t\t\t\theaderAlt:scheduler.templates.rec_month_d_blured,\n\t\t\t\t\t\t\tbody:{\n\t\t\t\t\t\t\t\tview:\"datecells\",\n\t\t\t\t\t\t\t\tid:\"monthDayM\",\n\t\t\t\t\t\t\t\tname:\"monthDayM\",\n\t\t\t\t\t\t\t\tdata:monthDays\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\theaderAltHeight:50,\n\t\t\t\t\t\t\theaderHeight:50,\n\t\t\t\t\t\t\tid:\"typeWeekM\",\n\t\t\t\t\t\t\theader:scheduler.templates.rec_month_w,\n\t\t\t\t\t\t\theaderAlt:scheduler.templates.rec_month_w_blured,\n\t\t\t\t\t\t\tcollapsed: true,\n\t\t\t\t\t\t\tbody:{\n\t\t\t\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\t\t\t\trows:[\n\t\t\t\t\t\t\t\t\t{height: 10},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\t\t\t\t\t\tpaddingX:10,\n\t\t\t\t\t\t\t\t\t\tcols:[\n\t\t\t\t\t\t\t\t\t\t\t{view:\"select\",value:1,id:\"weekCountM\",name:\"weekCountM\", css:\"\", options:config.week_day_counters},\n\t\t\t\t\t\t\t\t\t\t\t{view:\"select\",value:1,id:\"weekDayM\",name:\"weekDayM\", css:\"\", options:config.week_day_labels}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\t\tif(!config.year_months){\n\t\t\tconfig.year_months = (scheduler.locale.date?scheduler.locale.date.month_short:webix.i18n.calendar.monthShort);\n\t\t}\n\t\t/*Yearly view*/\n\t\tif(!config.yearly_form)\n\t\t\tconfig.yearly_form = [\n\n\t\t\t\t{\n\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.every,width:xy.recurring.label_every},\n\t\t\t\t\t\t{view:\"counter\", id:\"yearCount\", name:\"yearCount\", value:1,width:125},\n\t\t\t\t\t\t{view:\"label\", label:labels.recurring.year}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tview:\"datecells\",\n\t\t\t\t\tid:\"monthDayY\",\n\t\t\t\t\tborderless: true,\n\t\t\t\t\tdata:config.year_months,\n\t\t\t\t\tx_count:4,\n\t\t\t\t\theight:130\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tview:\"checkbox\",label:labels.recurring.week_day, id:\"typeWeekY\", name:\"typeWeekY\", labelWidth:250, value:1\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tid:\"yearWeekRow\",\n\t\t\t\t\ttype:\"clean\",\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{view:\"select\",value:1,id:\"weekCountY\",name:\"weekCountY\",options:config.week_day_counters},\n\t\t\t\t\t\t{view:\"select\",value:1,id:\"weekDayY\",name:\"weekDayY\",options:config.week_day_labels}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t\t\n\t\t\t];\n\t\t\n\t\t/*recurring subviews*/\n\t\tif(!config.recurring_views)\n\t\t\tconfig.recurring_views = [\n\t\t\t\t{id:\"recForm\", view:\"form\", css: \"webix_rec_form\", padding:0, scroll: false, elements: config.rec_init_form},\n\t\t\t\t{id:\"endRepeatForm\", view:\"form\",type: \"clean\", elements: config.end_repeat_form},\n\t\t\t\t{id:\"daily\",view:\"daily\",elements: config.daily_form, elementsConfig:{height:42}},\n\t\t\t\t{id:\"weekly\", view:\"weekly\", type: \"clean\", elements: config.weekly_form},\n\t\t\t\t{id:\"monthly\", view:\"monthly\", elements: config.monthly_form, margin:10},\n\t\t\t\t{id:\"yearly\", view:\"yearly\", padding: 10, margin:10, type: \"clean\", elements: config.yearly_form, elementsConfig:{height:42}}\n\t\t\t];\n\t\t\n\t\t/*adds recurring view into cells collection of scheduler's multiview*/\n\t\tconfig.views.push({\n\t\t\tview:\"recurring\",\n\t\t\tid:\"recurring\"\n\t\t});\n\t\t\n\t\t/*recurring view definition*/\n\t\twebix.protoUI({\n\t\t\tname:\"recurring\",\n\t\t\tdefaults:{\n\t\t\t\tpadding:0,\n\t\t\t\trows:[\n\t\t\t\t\t{view:\"toolbar\",id:\"reccuringBar\", height:50, css:\"webix_subbar\", elements:config.recurring_bar, visibleBatch:\"default\"},\n\t\t\t\t\t{id:\"recViews\", animate: false, cells:config.recurring_views}\n\t\t\t\t],\n\t\t\t\ttypeToId:{\"day\":\"daily\",\"week\":\"weekly\",\"month\":\"monthly\",\"year\":\"yearly\"},\n\t\t\t\tendlessDate: config.endless_date\n\t\t\t},\n\t\t\t$init: function() {\n\t\t\t\tthis.name = \"Recurring\";\n\t\t\t\tthis.$view.className += \" webix_recurring\";\n\t\t\t\tthis.$ready.push(this._setEvents);\n\t\t\t},\n\t\t\t_setEvents:function(){\n\t\t\t\tvar idToType = {};\n\t\t\t\tfor(var type in this.config.typeToId)\n\t\t\t\t\tidToType[this.config.typeToId[type]] = type;\n\t\t\t\tthis.define(\"idToType\",idToType);\n\t\t\t\twebix.delay(function(){\n\t\t\t\t\tvar topParent = this.getTopParentView();\n\t\t\t\t\ttopParent.$$(\"rec_type\").attachEvent(\"onItemClick\",this._showRecViewsList);\n\t\t\t\t\ttopParent.$$(\"reccuringBar\").attachEvent(\"onItemClick\",webix.bind(function(id){\n\t\t\t\t\t\tid = this.innerId(id);\n\t\t\t\t\t\tswitch(id){\n\t\t\t\t\t\t\tcase \"recDone2\":\n\t\t\t\t\t\t\tcase \"recEndCancel\":\n\t\t\t\t\t\t\t\tthis.$$(\"recViews\").back();\n\t\t\t\t\t\t\t\tthis.$$(\"reccuringBar\").showBatch(\"default\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"recCancel\":\n\t\t\t\t\t\t\t\tthis.$$(\"views\").back();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"recDone\":\n\t\t\t\t\t\t\t\tthis.$$(\"recurring\")._applyRecurrence();\n\t\t\t\t\t\t\t\tthis.$$(\"views\").back();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"recEndDone\":\n\t\t\t\t\t\t\t\tvar endDate;\n\t\t\t\t\t\t\t\tif(this.$$(\"endBy\").getValue()==\"1\")\n\t\t\t\t\t\t\t\t\tendDate = this.$$(\"endByDate\").getValue();\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tendDate = this.$$(\"recurring\").config.endlessDate;\n\t\t\t\t\t\t\t\tthis.$$(\"endRepeat\").setValue(endDate);\n\t\t\t\t\t\t\t\tthis.$$(\"recViews\").back();\n\t\t\t\t\t\t\t\tthis.$$(\"reccuringBar\").showBatch(\"default\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},topParent));\n\t\t\t\t\ttopParent.$$(\"recList\").attachEvent(\"onItemClick\",webix.bind(this._showRecView,topParent));\n\t\t\t\t\ttopParent.$$(\"endRepeat\").attachEvent(\"onItemClick\",webix.bind(function(){\n\t\t\t\t\t\tthis._showRecView.call(topParent,\"endRepeatForm\");\n\t\t\t\t\t\ttopParent.$$(\"reccuringBar\").showBatch(\"endRepeat\");\n\t\t\t\t\t\tthis._setEndDate();\n\t\t\t\t\t},this));\n\t\t\t\t\t\n\t\t\t\t\tif(topParent.$$(\"typeWeekY\"))\n\t\t\t\t\t\ttopParent.$$(\"typeWeekY\").attachEvent(\"onItemClick\",function(){\n\t\t\t\t\t\t\tif(this.getValue())\n\t\t\t\t\t\t\t\ttopParent.$$(\"yearWeekRow\").show();\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\ttopParent.$$(\"yearWeekRow\").hide();\n\t\t\t\t\t\t});\n\t\t\t\t\tif(topParent.$$(\"endBy\"))\n\t\t\t\t\t\ttopParent.$$(\"endBy\").attachEvent(\"onItemClick\",function(){\n\t\t\t\t\t\t\tif(this.getValue() == \"1\")\n\t\t\t\t\t\t\t\ttopParent.$$(\"endByDate\").show();\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\ttopParent.$$(\"endByDate\").hide();\n\t\t\t\t\t\t});\n\t\t\t\t\ttopParent.$$(\"editForm\").attachEvent(\"onItemClick\", webix.bind(function(id){\n\t\t\t\t\t\tid = this.innerId(id);\n\t\t\t\t\t\tif(id==\"end_date\"){\n\t\t\t\t\t\t\tthis._showDateForm(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t},topParent));\t\t\t\n\t\t\t\t\ttopParent.$$(\"weekly\").elements.weekDays = topParent.$$(\"weekDays\");\n\t\t\t\t\ttopParent.$$(\"monthly\").elements.monthDayM = topParent.$$(\"monthDayM\");\n\t\t\t\t\ttopParent.$$(\"yearly\").elements.monthDayY = topParent.$$(\"monthDayY\");\n\t\t\t\t\ttopParent.$$(\"editForm\").elements.endRepeat = topParent.$$(\"endRepeat\");\n\n\t\t\t\t\t// hide rec_type field in case of editing series occurrence\n\t\t\t\t\ttopParent.$$(\"views\").attachEvent(\"onViewChange\",function(v1,v2){\n\t\t\t\t\t\tif(topParent._recTypeState && topParent.$$(\"form\").config.id == v2){\n\t\t\t\t\t\t\tif(topParent._recTypeState == \"hide\"){\n\t\t\t\t\t\t\t\ttopParent.$$(\"rec_type\").hide();\n\t\t\t\t\t\t\t\ttopParent._recTypeState = \"show\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(topParent._recTypeState == \"show\")\n\t\t\t\t\t\t\t\ttopParent.$$(\"rec_type\").show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t},this);\n\t\t\t},\n\t\t\t_showRecViewsList:function(){\n\t\t\t\tvar topParent = this.getTopParentView(); \n\t\t\t\ttopParent.$$(\"recurring\").show();\n\t\t\t\tif(topParent.$$(\"recForm\")){\n\t\t\t\t\ttopParent.$$(\"recForm\").show();\n\t\t\t\t\ttopParent.$$(\"recurring\").setValue();\n\t\t\t\t\ttopParent.$$(\"endRepeat\").setValue(topParent.$$(\"endRepeat\").config.value);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_showRecView:function(id){\n\n\t\t\t\tif(this.$$(id)){\n\t\t\t\t\tthis.$$(id).show();\n\t\t\t\t\tthis.$$(\"reccuringBar\").showBatch(\"other\");\n\t\t\t\t}\n\n\t\t\t\tif(!this.$$(\"endRepeat\").getValue())\n\t\t\t\t\tthis.$$(\"endRepeat\").setValue(this.$$(\"recurring\").config.endlessDate);\n\t\t\t},\n\t\t\tsetValue:function(){\n\t\t\t\tvar topParent = this.getTopParentView();\n\t\t\t\tvar recType = (topParent.$$(\"rec_type\").getValue()||\"_____\").split(\"_\");\n\t\t\t\tvar config = topParent.$$(\"recurring\").config;\n\t\t\t\ttopParent.$$(\"recList\").setValue(recType[0]&&recType[0]!==\"\"?config.typeToId[recType[0]]:\"none\");\n\t\t\t\tvar typeArr;\n\t\t\t\tvar startDate = topParent.$$(\"start_date\").getValue();\n\t\t\t\tfor(var type in config.typeToId){\n\t\t\t\t\tif(type==recType[0]){\n\t\t\t\t\t\trecType.push(startDate);\n\t\t\t\t\t\ttypeArr = webix.copy(recType);\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttypeArr = [type,1,\"\",\"\",\"\",startDate];\n\t\t\t\t\t}\n\t\t\t\t\ttopParent.$$(config.typeToId[type]).setValue(typeArr);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetValue:function(){\n\t\t\t\tvar topParent = this.getTopParentView();\n\t\t\t\tvar type = topParent.$$(\"recList\").getSelectedId();\n\t\t\t\treturn (type==\"none\"?[\"\",\"\",\"\",\"\",\"\",\"\"]:topParent.$$(type).getValue());\n\t\t\t},\n\t\t\t_applyRecurrence:function(){\n\t\t\t\tvar topParent = this.getTopParentView();\n\t\t\t\tvar value = this.getValue();\n\t\t\t\tvar startDate = topParent.$$(\"start_date\").getValue();\n\t\t\t\tvar endDate = topParent.$$(\"end_date\").getValue();\n\t\t\t\tvar length = endDate.valueOf()-startDate.valueOf();\n\t\t\t\ttopParent.$$(\"event_length\").setValue(length/1000);\n\n\t\t\t\tif(!value[0]){\n\t\t\t\t\ttopParent.$$(\"endRepeat\").setValue(topParent.$$(\"end_date\").getValue());\n\t\t\t\t\ttopParent.$$(\"rec_type\").setValue(\"\");\n\t\t\t\t\ttopParent.$$(\"event_length\").setValue(\"\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if(value[0]==\"week\"){\n\t\t\t\t\tstartDate = webix.Date.add(startDate,(-1)*(startDate.getDay()+6)%7,\"day\",true);\n\t\t\t\t}\n\t\t\t\telse if(value[0]==\"month\"){\n\t\t\t\t\tif(value[5])\n\t\t\t\t\t\tstartDate.setDate(value[5]);\n\t\t\t\t}\n\t\t\t\telse if(value[0]==\"year\"&&value[5]){\n\t\t\t\t\tstartDate.setMonth(value[5]);\n\t\t\t\t}\n\t\t\t\ttopParent.$$(\"start_date\").setValue(startDate);\n\t\t\t\ttopParent.$$(\"end_date\").setValue(new Date(startDate.valueOf()+length));\n\t\t\t\tvalue.pop();\n\t\t\t\tvar repeat = \"\";\n\t\t\t\tif(topParent.$$(\"endBy\").getValue()==\"0\")\n\t\t\t\t\trepeat = \"no\";\n\t\t\t\ttopParent.$$(\"rec_type\").setValue(value.join(\"_\")+\"#\"+repeat);\n\t\t\t},\n\t\t\t_setEndDate:function(){\n\t\t\t\tvar topParent = this.getTopParentView();\n\t\t\t\tvar values = topParent.$$(\"editForm\").getValues();\n\t\t\t\tvar end =  values.end_date;\n\t\t\t\tif(end.valueOf() == this.config.endlessDate.valueOf()){\n\t\t\t\t\ttopParent.$$(\"endBy\").setValue(\"0\");\n\t\t\t\t\ttopParent.$$(\"endByDate\").setValue(scheduler.config.end_by||webix.Date.add(topParent.$$(\"end_date\").getValue(),1,\"year\",true),true);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttopParent.$$(\"endBy\").setValue(\"1\");\n\t\t\t\t\ttopParent.$$(\"endByDate\").define(\"minDate\",end);\n\t\t\t\t\ttopParent.$$(\"endByDate\").setValue(end);\n\t\t\t\t}\n\t\t\t\tthis._setEndByVisibility();\n\t\t\t},\n\t\t\t_setEndByVisibility:function(){\n\t\t\t\tvar topParent = this.getTopParentView();\n\t\t\t\tvar value = topParent.$$(\"endBy\").getValue();\n\t\t\t\tif(value == \"1\")\n\t\t\t\t\ttopParent.$$(\"endByDate\").show();\n\t\t\t\telse\n\t\t\t\t\ttopParent.$$(\"endByDate\").hide();\n\t\t\t}\n\t\t}, webix.DataLoader, webix.ui.form, webix.EventSystem, webix.Settings);\n\t});\n\n};","export const values = {\n\tday_event_style: function(obj){\n\t\tvar style = \"\";\n\t\tif(obj.color){\n\t\t\tvar rgb = webix.color.toRgb(obj.color);\n\t\t\tstyle += \";border-color:\"+obj.color+\";\";\n\t\t\tstyle += \"background-color:rgba(\"+rgb.toString()+\",0.3);\";\n\t\t\tvar hsv = webix.color.rgbToHsv(rgb[0],rgb[1],rgb[2]);\n\t\t\thsv[2] /= 1.6;\n\t\t\tvar color = \"rgb(\"+webix.color.hsvToRgb(hsv[0],hsv[1],hsv[2])+\")\";\n\t\t\tstyle += \"color:\"+color;\n\t\t}\n\t\treturn style;\n\t},\n\tmulti_day_event_style: function(obj){\n\t\tvar style = \"\";\n\t\tif(obj.color){\n\t\t\tvar rgb = webix.color.toRgb(obj.color);\n\n\t\t\tstyle += \";background-color:rgba(\"+rgb.toString()+\",0.3);\";\n\t\t\tvar hsv = webix.color.rgbToHsv(rgb[0],rgb[1],rgb[2]);\n\t\t\thsv[2] /= 1.6;\n\t\t\tvar color = \"rgb(\"+webix.color.hsvToRgb(hsv[0],hsv[1],hsv[2])+\")\";\n\t\t\tstyle += \"color:\"+color;\n\t\t}\n\t\treturn style;\n\t},\n\tselected_event : function(obj){\n\t\tvar html = \"\", fts=\"\", fte=\"\";\n\t\tvar start = obj.start_date;\n\t\tvar end = obj.end_date;\n\n\t\tif(!start) return html;\n\t\thtml += \"<div  class='selected_event \"+scheduler.templates.event_class(obj)+\"'  >\";\n\t\thtml += \"<div class='event_title'>\"+obj.text+\"</div>\";\n\n\t\tif(webix.Date.datePart(start,true).valueOf()==webix.Date.datePart(end,true).valueOf()){\n\t\t\tvar fd = webix.i18n.dateFormatStr(start);\n\t\t\tfts = webix.i18n.timeFormatStr(start);\n\t\t\tfte = webix.i18n.timeFormatStr(end);\n\t\t\thtml += \"<div class='event_text'>\"+fd+\"</div>\";\n\t\t\thtml += \"<div class='event_text'>\"+scheduler.locale.labels.label_from+\" \"+fts+\" \"+scheduler.locale.labels.label_to+\" \"+fte+\"</div>\";\n\t\t}\n\t\telse{\n\t\t\tvar fds = webix.i18n.longDateFormatStr(start);\n\t\t\tvar fde = webix.i18n.longDateFormatStr(end);\n\t\t\t/*if not \"all-day\" event*/\n\t\t\tif(!(webix.Date.datePart(start,true).valueOf()==start.valueOf()&&webix.Date.datePart(end,true).valueOf()==end.valueOf())){\n\t\t\t\tfts = webix.i18n.timeFormatStr(start)+\" \";\n\t\t\t\tfte = webix.i18n.timeFormatStr(end)+\" \";\n\t\t\t}\n\t\t\thtml += \"<div class='event_text'>\"+scheduler.locale.labels.label_from+\" \"+fts+fds+\"</div>\";\n\t\t\thtml += \"<div class='event_text'>\"+scheduler.locale.labels.label_to+\" \"+fte+fde+\"</div>\";\n\t\t}\n\t\tif(obj.details&&obj.details!==\"\"){\n\t\t\thtml += \"<div class='event_title'>\"+scheduler.locale.labels.label_details+\"</div>\";\n\t\t\thtml += \"<div class='event_text'>\"+obj.details+\"</div>\";\n\t\t}\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t},\n\tweek_title: function(date){\n\t\tvar start = webix.Date.weekStart(date);\n\t\tvar end = webix.Date.add(start,6,\"day\",true);\n\t\treturn \"<div aria-live='assertive' aria-atomic='true'>\"+webix.i18n.headerWeekFormatStr(start)+\"&nbsp;-&nbsp;\"+webix.i18n.headerWeekFormatStr(end)+\"</div>\";\n\t},\n\tday_title:function(date){\n\t\treturn \"<div aria-live='assertive' aria-atomic='true'>\"+webix.i18n.headerFormatStr(date)+\"</div>\";\n\t},\n\tcalendar_event : function(day){\n\t\treturn \"<div class='webix_cal_day_event'>\"+day.getDate()+\"</div>\"+\"<div class='webix_cal_event_marker'></div>\";\n\t},\n\tcalendar_day : function(day){\n\t\treturn day.getDate();\n\t},\n\tevent_date: function(value){\n\t\tvar date = new Date(parseInt(value,10));\n\t\tvar isCurrent = (webix.Date.datePart(date).valueOf() == webix.Date.datePart(new Date()).valueOf());\n\t\treturn \"<span class='webix_unit_header_inner\"+(isCurrent?\" today\":\"\")+\"'>\"+webix.i18n.weekDateFormatStr(date)+\"</span>\";\n\t},\n\tevent_time : function(obj){\n\t\tvar start = obj.start_date;\n\t\tvar end = obj.end_date;\n\t\tif(!(webix.Date.datePart(start,true).valueOf()==start.valueOf()&&webix.Date.datePart(end,true).valueOf()==end.valueOf()))\n\t\t\treturn webix.i18n.timeFormatStr(start);\n\t\telse\n\t\t\treturn scheduler.locale.labels.label_allday;\n\t},\n\tevent_marker : function(obj){\n\t\tvar style = \"\";\n\t\tif(obj.color){\n\t\t\tvar rgb = webix.color.toRgb(obj.color);\n\t\t\tstyle += \";border-color:\"+obj.color+\";\";\n\t\t\tstyle += \"background-color:rgba(\"+rgb.toString()+\",0.9);\";\n\n\t\t}\n\t\treturn \"<div class='webix_event_marker' ><div style='\"+style+\"'></div></div>\";\n\t},\n\tevent_title: function(obj,type){\n\t\treturn \"<div class='webix_event_overall \"+type.eventClass(obj,type)+\"'><div class='webix_event_time'>\"+type.timeStart(obj)+\"</div>\"+type.marker(obj,type)+\"<div class='webix_event_text' \"+(obj.textColor?\"style='color:\"+obj.textColor:\"\")+\"'>\"+obj.text+\"</div></div>\";\n\t},\n\tmonth_event_title : function(obj,type){\n\t\treturn \"<div class='webix_event_overall \"+type.eventClass(obj,type)+\"'><div class='webix_event_time'>\"+type.timeStart(obj)+\"</div>\"+type.marker(obj,type)+\"<div class='webix_event_text' \"+(obj.textColor?\"style='color:\"+obj.textColor:\"\")+\"'>\"+obj.text+\"</div></div>\";\n\t},\n\tday_event: function(obj){\n\t\treturn obj.text;\n\t},\n\tmulti_day_event: function(obj){\n\t\treturn obj.text;\n\t},\n\tnew_event_data: function(){\n\t\tvar hours = (webix.Date.add(new Date(),1,\"hour\",true)).getHours();\n\t\tvar start = webix.Date.copy(this.coreData.getValue());\n\t\tstart.setHours(hours);\n\t\tvar end = webix.Date.add(start,1,\"hour\",true);\n\t\treturn {start_date:start,end_date:end};\n\t},\n\tevent_class: webix.template(\"\")\n};","webix.protoUI({\n\tname:\"dayevents\",\n\tdefaults:{\n\t\thourFormat:\"%H\",\n\t\thourClock:12,\n\t\tfirstHour:0,\n\t\tlastHour:24,\n\t\ttimeScaleWidth:25,\n\t\tminEventHeight: 20,\n\t\ttimeScaleHeight: 40,\n\t\tscroll:true,\n\t\tscaleBorder:1,\n\t\teventOffset:5,\n\t\tseparateShortEvents: true,\n\t\tdate: new Date()\n\t},\n\t$init:function(config){ \n\t\tthis.name = \"DayEvents\";\n\n\t\tthis._dataobj = this.$view.firstChild;\n\t\tthis._dataobj.style.position = \"relative\";\n\t\tthis.$view.className += \" webix_dayevents\";\n\t\tthis.data.provideApi(this,true);\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(this.render,this));\n\t\t\n\n\t\tif(window.scheduler){\n\t\t\tconfig.hourFormat = scheduler.config.scale_hour;\n\t\t\tconfig.timeScaleWidth = scheduler.xy.scale_width;\n\t\t\tconfig.minEventHeight = scheduler.xy.min_event_height;\n\t\t\tconfig.timeScaleHeight = scheduler.xy.scale_height*2;\n\t\t\tconfig.separateShortEvents = scheduler.config.separate_short_events;\n\t\t}\n\t},\n\trender: function(){\n\t\tif (!this.isVisible(this.config.id) || this.$blockRender)\n\t\t\treturn;\n\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\tthis._renderScale();\n\t\t\tthis.type.color = this.config.color;\n\t\t\tthis.type.textColor = this.config.textColor;\n\t\t\tthis._prepareEvents();\n\t\t\tif(window.scheduler&&scheduler.templates){\n\t\t\t\tthis.type.template = scheduler.templates.day_event;\n\t\t\t\tthis.type.templateCss = scheduler.templates.event_class;\n\t\t\t}\n\t\t\tthis._dataobj.firstChild.innerHTML = this.data.getRange().map(this._toHTML,this).join(\"\");\n\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\n\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\n\t\t}\n\t},\n\tgetItemNode:function(search_id){\n\t\tif (this._htmlmap)\n\t\t\treturn this._htmlmap[search_id];\n\t\t\t\n\t\t//fill map if it doesn't created yet\n\t\tthis._htmlmap={};\n\t\t\n\t\tvar t = this._dataobj.firstChild.childNodes;\n\t\tfor (var i=0; i < t.length; i++){\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\n\t\t\tif (id)\n\t\t\t\tthis._htmlmap[id]=t[i];\n\t\t}\n\t\t//call locator again, when map is filled\n\t\treturn this.getItemNode(search_id);\n\t},\n\t_toHTML:function(obj){\n\t\tvar mark = this.data.getMark(obj.id, \"webix_selected\")?\" webix_selected\":\"\";\n\t\t//check if related template exist\n\t\tthis.callEvent(\"onItemRender\",[obj]);\n\t\tvar content = (obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type,mark);\n\t\treturn this.type.templateStart(obj,this.type, mark)+content+this.type.templateEnd(obj, this.type,mark);\n\t},\n\t_renderScale:function(){\n\t\tvar html = \"<div role='presentation'></div>\";\n\t\tfor(var h = this.config.firstHour; h<this.config.lastHour; h++){\n\t\t\thtml += this.hourScaleItem(h);\n\t\t}\n\t\tthis._dataobj.innerHTML = html;\n\t},\n\ton_click:{\n\t},\n\thourScaleItem: function(hour){\n\t\tvar hourFormat = this.config.hourFormat;\n\n\n\t\tvar  d = new Date();\n\t\td.setHours(hour);\n\t\thour = webix.Date.dateToStr(hourFormat)(d);\n\n\t\tvar html = \"\";\n\t\tvar timeScaleWidth = this.config.timeScaleWidth;\n\t\tvar hourHeight = this.config.timeScaleHeight;\n\t\tvar sectionWidth = Math.floor(this.config.timeScaleWidth);\n\t\tvar heightTop = Math.floor(hourHeight/2);\n\t\tvar eventZoneWidth = this.$width-this.config.scaleBorder-timeScaleWidth;\n\t\thtml += \"<div style='width: 100%; height:\"+hourHeight+\"px;' class='webix_dayevents_scale_item'>\";\n\t\thtml += \"<div class='webix_dayevents_scale_hour' style='width:\"+sectionWidth+\"px; height:\"+hourHeight+\"px;line-height:\"+hourHeight+\"px;'>\"+hour+\"</div>\";\n\t\thtml += \"<div class='webix_dayevents_scale_event'  style='width:\"+eventZoneWidth+\"px'>\";\n\t\thtml += \"<div class='webix_dayevents_scale_top' style='height:\"+heightTop+\"px;width:\"+eventZoneWidth+\"px'></div>\";\n\t\thtml += \"</div>\";\n\t\thtml += \"</div>\";\n\t\treturn html;\t\t\n\t},\n\ttype:{\n\t\taria:function(obj, common,sel){\n\t\t\treturn \"role='option'\"+(sel?\" aria-selected='true' tabindex='0'\":\" tabindex='-1'\");\n\t\t},\n\t\ttemplateStart:webix.template(\"<div webix_l_id='#id#' {common.aria()} class='{common.classname()} {common.templateCss()}' style='left:#$left#px;top:#$top#px;width:#$width#px;height:#$height#px;padding:{common.padding}px;overflow:hidden; {common.templateColor()} ;'>\"),\n\t\ttemplate:\"#text#\",\n\t\ttemplateEnd:webix.template(\"</div>\"),\n\t\ttemplateCss:webix.template(\"\"),\n\t\ttemplateColor: function(obj){\n\t\t\treturn (window.scheduler?scheduler.templates.day_event_style(obj):\"\");\n\t\t},\n\t\tclassname:function(obj, common, sel){\n\t\t\tvar css = \"webix_dayevents_event_item\"+sel;\n\t\t\treturn css;\n\t\t},\n\t\tpadding:4\n\t},\n\t_prepareEvents:function(){\n\t\tvar evs = this.data.getRange();\n\t\tvar stack = [];\n\t\tvar ev,i,j,k,_is_sorder,_max_sorder,_sorder_set;\n\t\tthis._minMappedDuration = Math.ceil(this.config.minEventHeight * 60 / (this.config.timeScaleHeight+1));  // values could change along the way\n\t\tfor(i=0; i< evs.length;i++){\n\t\t\tev=evs[i];\n\t\t\tev.$inner=false;\n\t\t\twhile (stack.length && this._getEventEndDate(stack[stack.length-1]).valueOf()<=ev.start_date.valueOf()){\n\t\t\t\tstack.splice(stack.length-1,1);\n\t\t\t}\n\t\t\t_sorder_set = false;\n\t\t\t\n\t\t\tfor(j=0;j< stack.length;j++){\n\t\t\t\tif(this._getEventEndDate(stack[j]).valueOf()<=ev.start_date.valueOf()){\n\t\t\t\t\t_sorder_set = true;\n\t\t\t\t\tev.$sorder=stack[j].$sorder;\n\t\t\t\t\tstack.splice(j,1);\n\t\t\t\t\tev.$inner=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (stack.length) stack[stack.length-1].$inner=true;\n\t\t\t\n\t\t\tif(!_sorder_set){\n\t\t\t\tif(stack.length){\n\t\t\t\t\tif(stack.length<=stack[stack.length-1].$sorder){\n\t\t\t\t\t\tif(!stack[stack.length-1].$sorder)\n\t\t\t\t\t\t\tev.$sorder = 0; \n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor(j=0;j<stack.length;j++){\n\t\t\t\t\t\t\t\t_is_sorder = false;\n\t\t\t\t\t\t\t\tfor(k=0;k<stack.length;k++){\n\t\t\t\t\t\t\t\t\tif(stack[k].$sorder==j){\n\t\t\t\t\t\t\t\t\t\t_is_sorder = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(!_is_sorder){\n\t\t\t\t\t\t\t\t\tev.$sorder = j; \n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tev.$inner = true;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\t_max_sorder = stack[0].$sorder;\n\t\t\t\t\t\tfor(j =1;j < stack.length; j++)\n\t\t\t\t\t\t\tif(stack[j].$sorder>_max_sorder)\n\t\t\t\t\t\t\t\t_max_sorder = stack[j].$sorder;\n\t\t\t\t\t\tev.$sorder = _max_sorder+1;\n\t\t\t\t\t\tev.$inner = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse \n\t\t\t\t\tev.$sorder = 0; \n\t\t\t}\n\t\t\tstack.push(ev);\n\t\t\tif (stack.length>(stack.max_count||0)) stack.max_count=stack.length;\n\t\t}\n\t\t\n\t\tfor (let i=0; i < evs.length; i++){ \n\t\t\tevs[i].$count=stack.max_count;\n\t\t\tthis._setPosition(evs[i]);\n\t\t}\n\t},\n\t_setPosition:function(ev){\n\t\t\n\t\tvar date = this.config.date.getValue?this.config.date.getValue():this.config.date;\n\t\t\n\t\tvar start = webix.Date.copy(ev.start_date);\n\t\tvar end = webix.Date.copy(ev.end_date);\n\t\tvar sh = start.getHours();\n\t\tvar eh = end.getHours();\n\t\tif(webix.Date.datePart(start,true).valueOf()>webix.Date.datePart(end,true).valueOf()){\n\t\t\tend = start;\n\t\t}\n\t\t\n\t\tif(webix.Date.datePart(start,true).valueOf()<webix.Date.datePart(date,true).valueOf()){\n\t\t\tstart = webix.Date.datePart(date);\n\t\t}\n\t\tif(webix.Date.datePart(end,true).valueOf()>webix.Date.datePart(date,true).valueOf()){\n\t\t\tend = webix.Date.datePart(date,true);\n\t\t\tend.setMinutes(0);\n\t\t\tend.setHours(this.config.lastHour);\n\t\t}\n\t\tif (sh < this.config.firstHour || eh >= this.config.lastHour){\n\t\t\tif (sh < this.config.firstHour){\n\t\t\t\tstart.setHours(this.config.firstHour);\n\t\t\t\tstart.setMinutes(0);\n\t\t\t}\n\t\t\tif (eh >= this.config.lastHour){\n\t\t\t\tend.setMinutes(0);\n\t\t\t\tend.setHours(this.config.lastHour);\n\t\t\t}\n\t\t}\n\t\tvar temp_width = Math.floor((this.$width-this.config.timeScaleWidth-this.config.eventOffset)/ev.$count);\n\t\tev.$left=ev.$sorder*(temp_width)+this.config.timeScaleWidth+this.config.eventOffset;\n\t\tif (!ev.$inner) temp_width=temp_width*(ev.$count-ev.$sorder);\n\t\tev.$width = temp_width-this.config.eventOffset-this.type.padding*2;\n\t\t\n\t\tvar sm = start.getHours()*60+start.getMinutes();\n\t\tvar em = (end.getHours()*60+end.getMinutes())||(this.config.lastHour*60);\n\t\tev.$top = Math.round((sm-this.config.firstHour*60)*(this.config.timeScaleHeight+1)/60); //42px/hour\n\t\tev.$height = Math.max(this.config.minEventHeight,(em-sm)*(this.config.timeScaleHeight+1)/60-1)-this.type.padding*2;\n\t},\n\t_getEventEndDate: function(ev) {\n\t\tvar end_date = ev.end_date;\n\t\tif (this.config.separateShortEvents) {\n\t\t\tvar ev_duration = (ev.end_date - ev.start_date) / 60000; // minutes\n\t\t\tif (ev_duration < this.config.minEventHeight) {\n\t\t\t\tend_date = webix.Date.add(end_date, this._minMappedDuration - ev_duration, \"minute\",true);\n\t\t\t}\n\t\t}\n\t\treturn end_date;\n\t},\n\t$setSize:function(x,y){ \n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y)){\n\t\t\tthis.render();\n\t\t}\n\t}\n}, webix.ui.list);\n","webix.protoUI({\n\tname:\"datetext\",\n\tdefaults:{\n\t\t/*template:function(obj,common){\n\t\t\treturn common._render_div_block(obj, common);\n\t\t},*/\n\t\ticon: \"wxi-angle-right\"\n\t},\n\t$renderIcon:function(){\n\t\tvar config = this.config,\n\t\t\theight = config.aheight - 2*config.inputPadding,\n\t\t\tpadding = (height - 18)/2-1;\n\t\treturn config.icon?(\"<span style='height:\"+(height-padding)+\"px;padding-top:\"+padding+\"px;' class='webix_input_icon  \"+config.icon+\"'></span>\"):\"\";\n\t},\n\t$init:function(){\n\t\tthis.attachEvent(\"onAfterRender\", webix.once(this._after_render, this));\n\t},\n\t_after_render:function(){\n\t\twebix.event(this.getInputNode(), \"keydown\", function(e){\n\t\t\tvar code = e.which || e.keyCode;\n\t\t\tif(code == 32 || code == 13 || code ==39) //space, enter, right\n\t\t\t\twebix.html.triggerEvent(document.activeElement, \"MouseEvents\", \"click\");\n\t\t}, this);\n\t},\n\tsetValue:function(value, forceReset){\n\t\tvar oldvalue = this.config.value;\n\t\tvar changed = true;\n\t\tif (oldvalue == value){\n\t\t\tchanged = false;\n\t\t\tif(!forceReset)\n\t\t\t\treturn false;\n\t\t}\n\n\t\tthis.config.value = value;\n\t\tif (this.getInputNode())\n\t\t\tthis.$setValue(value);\n\n\t\tif(changed)\n\t\t\tthis.callEvent(\"onChange\", [value, oldvalue]);\n\t},\n\t$setValue:function(value){\n\t\tthis.config.value = (value||\"\");\n\t\tvar format = (this.config.dateFormatStr||webix.i18n.dateFormatStr);\n\t\tthis.config.text = this.getInputNode().innerHTML = (typeof this.config.value==\"object\"?(format(this.config.value)):this.config.value);\n\t},\n\tdateFormat_setter:function(value){\n\t\tthis.config.dateFormatStr = webix.Date.dateToStr(value);\n\t\treturn webix.Date.strToDate(value);\n\t},\n\tgetValue:function(){\n\t\treturn this.config.value||null;\n\t},\n\tgetInputNode: function(){\n\t\treturn this.$view.getElementsByTagName(\"DIV\")[1];\n\t}\n}, webix.ui.richselect);","webix.protoUI({\n\tname:\"weekevents\",\n\ton_click: {\n\t},\n\trender:function(id,data){\n\t\tif (!this.isVisible(this.config.id))\n\t\t\treturn;\n\n\t\t//full reset\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\tthis.units = null;\n\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\n\t\t\tthis._setUnits();\n\t\t\tif(this.units){\n\t\t\t\tdata = this._getUnitRange();\n\t\t\t\tif(!data.length)\n\t\t\t\t\tthis.$view.firstChild.innerHTML = \"<div class='webix_noevents'>\"+this.config.noEvents+\"</div>\";\n\t\t\t\telse\n\t\t\t\t\tthis.$view.firstChild.innerHTML = data.map(this._toHTML, this).join(\"\");\n\t\t\t}\n\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\t\t}\n\t},\n\t_toHTML:function(obj){\n\t\tvar mark = this.data.getMark(obj.id, \"webix_selected\")?\" webix_selected\":\"\";\n\t\t//check if related template exist\n\t\tthis.callEvent(\"onItemRender\",[obj]);\n\t\tif(obj.$unit){\n\t\t\treturn this.type.templateStartHeader(obj,this.type)+this.type.templateHeader.call(this,obj.$unit)+this.type.templateEnd(obj, this.type);\n\t\t}\n\t\treturn this.type.templateStart(obj,this.type, mark)+(obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type)+this.type.templateEnd(obj, this.type);\n\t},\n\t_getUnitRange:function(){\n\t\tvar data,i,u,unit;\n\t\tdata = [];\n\t\tfor(u in this.units){\n\t\t\tdata.push({$unit:u});\n\t\t\tunit = this.units[u];\n\t\t\tfor(i=0;i < unit.length;i++){\n\t\t\t\tvar event = webix.extend({},unit[i]);\n\t\t\t\tdata.push(event);\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t},\n\t_setUnits: function(){\n\t\tvar scheduler = this.getTopParentView();\n\t\tvar d = scheduler.coreData.getValue();\n\n\t\tvar start = webix.Date.weekStart(d);\n\t\tvar end = webix.Date.add(start,1,\"week\",true);\n\n\t\tthis.units = {};\n\t\twhile(start.valueOf()<end.valueOf()){\n\t\t\tvar next = webix.Date.add(start,1,\"day\",true);\n\t\t\tvar result = scheduler._correctEventsDates(start,scheduler.getEvents(start, next));\n\t\t\tif(result.length)\n\t\t\t\tthis.units[start.valueOf()] = result;\n\n\t\t\tstart = webix.Date.add(start,1,\"day\",true);\n\t\t}\n\t},\n\n\ttype:{\n\t\theaderHeight: 28,\n\t\tmargin:0, padding:0,\n\t\taria:function(obj, common, sel){\n\t\t\treturn \" role='option'\"+(sel?\" aria-selected='true' tabindex='0'\":\" tabindex='-1'\");\n\t\t},\n\t\ttemplateHeader: function(value){\n\t\t\tvar date = new Date(parseInt(value,10));\n\t\t\tvar isCurrent = (webix.Date.datePart(date).valueOf() == webix.Date.datePart(new Date()).valueOf());\n\t\t\treturn \"<span class='webix_unit_header_inner\"+(isCurrent?\" current\":\"\")+\"'>\"+webix.i18n.weekDateFormatStr(date)+\"</span>\";\n\t\t},\n\t\ttemplateStart:function(obj,type, sel){\n\t\t\tif(obj.$unit)\n\t\t\t\treturn type.templateStartHeader.apply(this,arguments);\n\t\t\tvar className = \"webix_list_item webix_list_\"+(type.css)+\"_item\"+(obj.$selected?\"_selected\":\"\")+sel;\n\t\t\tvar style = \"width:auto; height:\"+type.height+\"px; padding:\"+type.padding+\"px; margin:\"+type.margin+\"px; overflow:hidden;\"+(type.layout&&type.layout==\"x\"?\"float:left;\":\"\");\n\t\t\tvar aria = type.aria(obj, type, sel);\n\t\t\treturn \"<div webix_l_id='\"+obj.id+\"' class='\"+className+\"' style='\"+style+\"' \"+aria+\">\";\n\t\t},\n\t\ttemplateStartHeader:function(obj,type){\n\t\t\tvar className = \"webix_unit_header webix_unit_\"+(type.css)+\"_header\"+(obj.$selected?\"_selected\":\"\");\n\t\t\tvar style = \"width:auto; height:\"+type.headerHeight+\"px; overflow:hidden;\";\n\t\t\treturn \"<div webix_unit_id='\"+obj.$unit+\"' class='\"+className+\"' style='\"+style+\"'>\";\n\t\t}\n\t}\n}, webix.ui.list);","webix.protoUI({\n\tname:\"ariabutton\",\n\t$cssName:\"button\",\n\t$renderInput:function(obj){\n\t\tvar css = \"class='webixtype_\"+(obj.type||\"base\")+\"' \";\n\t\treturn \"<button type='button' aria-label='\"+webix.template.escape(obj.label||obj.value)+\"'\"+css+\"></button>\";\n\t}\n}, webix.ui.button);\n\n","webix.protoUI({\n\tname:\"datecells\",\n\tdefaults:{\n\t\tcss: \"webix_datecells\",\n\t\tx_count:7,\n\t\tcellHeight:36\n\t},\n\t_id:\"webix_d_c\",\n\t$init:function(){\n\t\tthis._dataobj = this.$view;\n\t},\n\ton_click:{\n\t\twebix_cal_day_num:function(e,id){\n\t\t\tif(id)\n\t\t\t\tthis.define(\"activeCell\",id);\n\t\t}\n\t},\n\tactiveCell_setter:function(id){\n\t\tthis.config.activeCell = id;\n\t\tthis.render();\n\t\treturn id;\n\t},\n\trender:function(){\n\t\tif(this.isVisible(this.config.id)){\n\t\t\tvar c = 1;\n\t\t\tvar html = \"<table cellspacing='0' cellpadding='0' class='webix_rec_table'><tbody>\";\n\t\t\tvar obj = this.config.data;\n\t\t\tvar cellWidth = (this.$width/this.config.x_count);\n\n\t\t\tfor(var i in obj){\n\t\t\t\tvar style = \"\";\n\t\t\t\tvar className = \"webix_cal_day_num\";\n\n\t\t\t\tstyle += \";height:\"+this.config.cellHeight+\"px;line-height:\"+this.config.cellHeight+\"px;\";\n\t\t\t\tif(c%this.config.x_count==1)\n\t\t\t\t\thtml += \"<tr>\";\n\t\t\t\thtml += \"<td style='\"+(cellWidth?(\"width:\"+cellWidth+\"px\"):\"\")+\"'>\";\n\n\t\t\t\tif(this.config.activeCell==i)\n\t\t\t\t\tclassName+=\" webix_cal_selected_day\";\n\n\t\t\t\thtml += \"<div webix_d_c='\"+i+\"' class='\"+className+\"' style='\"+style+\"'>\"+obj[i]+\"</div>\";\n\t\t\t\thtml += \"</td>\";\n\t\t\t\tif(c%this.config.x_count===0)\n\t\t\t\t\thtml += \"</tr>\";\n\t\t\t\tc++;\n\t\t\t}\n\t\t\thtml += \"</tbody></table>\";\n\t\t\tthis.$view.innerHTML = html;\n\t\t}\n\t},\n\t$setSize:function(x,y){\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\n\t\t\tthis.render();\n\t\t}\n\t},\n\tsetValue:function(value){\n\t\tthis.define(\"activeCell\",value);\n\t},\n\tgetValue:function(){\n\t\treturn this.config.activeCell;\n\t}\n}, webix.MouseEvents, webix.ui.view, webix.EventSystem);","webix.protoUI({\n\tname:\"rectext\",\n\t$setValue:function(value){\n\t\tthis.config.value = (value||\"\");\n\t\tvar type = \"none\";\n\t\tvar recView = this.getTopParentView().$$(\"recurring\");\n\t\tvar arr = this.config.value.split(\"_\");\n\t\tif(arr[0]!==\"\")\n\t\t\ttype = recView.config.typeToId[arr[0]];\n\t\tthis.config.text = this.getInputNode().innerHTML = scheduler.locale.labels.recurring[type];\n\t}\n}, webix.ui.datetext);","webix.protoUI({\n\tname:\"endrec\",\n\tdefaults:{\n\t\theight:42\n\t},\n\tsetValue: function(value){\n\t\tvar skipEvent = false;\n\t\tvar oldvalue = this.config.value;\n\t\tif (oldvalue == value){\n\t\t\tskipEvent = true;\n\t\t}\n\t\telse{\n\t\t\tthis.config.value = value;\n\t\t}\n\t\tif (this.getInputNode())\n\t\t\tthis.$setValue(value);\n\t\tif(!skipEvent)\n\t\t\tthis.callEvent(\"onChange\", [value, oldvalue]);\n\t},\n\t$setValue:function(date){\n\t\tthis.config.value = (date||\"\");\n\t\tvar recView = this.getTopParentView().$$(\"recurring\");\n\t\tvar text;\n\t\tif(typeof date==\"object\"){\n\t\t\tif(date.valueOf()==recView.config.endlessDate.valueOf())\n\t\t\t\ttext = scheduler.locale.labels.recurring.never;\n\t\t\telse\n\t\t\t\ttext = (this.config.dateFormatStr||webix.i18n.dateFormatStr)(this.config.value);\n\t\t}\n\t\tthis.config.text = this.getInputNode().innerHTML = (text||this.config.value);\n\t}\n}, webix.ui.datetext);","webix.protoUI({\n\tname:\"reclist\",\n\tdefaults:{\n\t\t//padding:10\n\t},\n\t$init:function(){\n\t\tthis.$view.className += \" webix_reclist\";\n\t},\n\tsetValue:function(value){\n\t\tif(this.getItem(value))\n\t\t\tthis.select(value);\n\t},\n\tgetValue:function(){\n\t\treturn this.getSelected();\n\t}\n},webix.ui.list);","webix.protoUI({\n\tname:\"daily\",\n\tsetValue:function(data){\n\t\tif(typeof data == \"object\"&&data[0]==\"day\"){\n\t\t\tif(!data[1]||data[1]===\"\")\n\t\t\t\tdata[1] = 1;\n\t\t\tthis.setValues({dayCount:data[1]});\n\t\t}\n\t},\n\tgetValue:function(){\n\t\tvar data = this.getValues();\n\t\treturn [\"day\",data.dayCount,\"\",\"\",\"\",\"\"];\n\t}\n}, webix.ui.form);","webix.protoUI({\n\tname:\"weekly\",\n\tsetValue:function(data){\n\t\tif(typeof data == \"object\"&&data[0]==\"week\"){\n\t\t\tif(!data[1]&&data[1]===\"\")\n\t\t\t\tdata[1] = 1;\n\t\t\tif(!data[4]||data[4]===\"\")\n\t\t\t\tdata[4] = (data[5].getDay()+6)%7+1;\n\n\t\t\tthis.setValues({weekCount:data[1],weekDays:\"\"+data[4]});\n\t\t}\n\t},\n\tgetValue:function(){\n\t\tvar data = this.getValues();\n\t\tif(!data.weekDays)\n\t\t\tdata.weekDays = 1;\n\t\treturn [\"week\",data.weekCount,\"\",\"\",data.weekDays,\"\"];\n\t}\n}, webix.ui.form);","webix.protoUI({\n\tname:\"weeklist\",\n\tdefaults:{\n\t\tcss: \"webix_weeklist\",\n\t\telementsConfig: {labelWidth: 2, height:42 },\n\t\trows:[\n\t\t\t{view:\"checkbox\",name: 1,id:1,labelRight:webix.i18n.calendar.dayFull[1]},\n\t\t\t{view:\"checkbox\",name: 2,id:2,labelRight:webix.i18n.calendar.dayFull[2]},\n\t\t\t{view:\"checkbox\",name: 3,id:3,labelRight:webix.i18n.calendar.dayFull[3]},\n\t\t\t{view:\"checkbox\",name: 4,id:4,labelRight:webix.i18n.calendar.dayFull[4]},\n\t\t\t{view:\"checkbox\",name: 5,id:5,labelRight:webix.i18n.calendar.dayFull[5]},\n\t\t\t{view:\"checkbox\",name: 6,id:6,labelRight:webix.i18n.calendar.dayFull[6]},\n\t\t\t{view:\"checkbox\",name: 7,id:7,labelRight:webix.i18n.calendar.dayFull[0]}\n\t\t]\n\t},\n\tgetValue:function(){\n\t\tvar values = this.getValues();\n\t\tvar result = [];\n\t\tfor(var d in values)\n\t\t\tif(values[d])\n\t\t\t\tresult.push(d);\n\t\treturn result.join();\n\t},\n\tsetValue:function(values){\n\t\tvar result={};\n\t\tfor(let i=1;i < 8;i++)\n\t\t\tresult[i] =0;\n\t\tif(typeof values!=\"object\")\n\t\t\tvalues = values.split(\",\");\n\t\tfor(let i=0; i< values.length;i++)\n\t\t\tresult[parseInt(values[i],10)] = 1;\n\t\tthis.setValues(result);\n\t}\n}, webix.MouseEvents, webix.EventSystem, webix.ui.form);","webix.protoUI({\n\tname:\"monthly\",\n\tdefaults:{\n\t\tcss: \"webix_monthly\"\n\t},\n\tsetValue:function(data){\n\t\tif(typeof data == \"object\"&&data[0]==\"month\"){\n\t\t\tvar topParent = this.getTopParentView();\n\t\t\tif(!data[1]&&data[1]===\"\")\n\t\t\t\tdata[1] = 1;\n\t\t\tif(data[2]&&data[2]!==\"\")\n\t\t\t\ttopParent.$$(\"typeWeekM\").expand();\n\t\t\telse{\n\t\t\t\tdata[2] = (data[5].getDay()+6)%7+1;\n\t\t\t\tdata[3] = Math.ceil(data[5].getDate()/7);\n\t\t\t}\n\t\t\tthis.setValues({monthCount:data[1],weekDayM:data[2],weekCountM:data[3],monthDayM:data[5].getDate()});\n\t\t}\n\t},\n\tgetValue:function(){\n\t\tvar data = this.getValues();\n\t\tvar res = [\"month\",data.monthCount,\"\",\"\",\"\",\"\"];\n\t\tvar topParent = this.getTopParentView();\n\t\tif(topParent.$$(\"typeDayM\").config.collapsed){\n\t\t\tres[2] = data.weekDayM;\n\t\t\tres[3] = data.weekCountM;\n\t\t}\n\t\telse{\n\t\t\tres[5] = data.monthDayM;\n\t\t}\n\t\treturn res;\n\t}\n}, webix.ui.form);","webix.protoUI({\n\tname:\"yearly\",\n\tdefaults:{\n\t\tcss: \"webix_yearly\"\n\t},\n\tsetValue:function(data){\n\t\tif(typeof data == \"object\"&&data[0]==\"year\"){\n\t\t\tvar topParent = this.getTopParentView();\n\t\t\tif(!data[1]&&data[1]===\"\")\n\t\t\t\tdata[1] = 1;\n\t\t\tif(data[2]&&data[2]!==\"\")\n\t\t\t\ttopParent.$$(\"typeWeekY\").setValue(1);\n\t\t\telse{\n\t\t\t\ttopParent.$$(\"typeWeekY\").setValue(0);\n\t\t\t\tdata[2] = (data[5].getDay()+6)%7+1;\n\t\t\t\tdata[3] = Math.ceil(data[5].getDate()/7);\n\t\t\t}\n\t\t\ttopParent.$$(\"typeWeekY\").callEvent(\"onItemClick\",[]);\n\t\t\tthis.setValues({yearCount:data[1],weekDayY:data[2],weekCountY:data[3],monthDayY:data[5].getMonth()});\n\t\t}\n\t},\n\tgetValue:function(){\n\t\tvar data = this.getValues();\n\t\tvar res = [\"year\",data.yearCount,\"\",\"\",\"\",\"\"];\n\t\tvar topParent = this.getTopParentView();\n\t\tif(topParent.$$(\"typeWeekY\").getValue()){\n\t\t\tres[2] = data.weekDayY;\n\t\t\tres[3] = data.weekCountY;\n\t\t}\n\t\tres[5] = data.monthDayY;\n\t\treturn res;\n\t}\n}, webix.ui.form);","webix.protoUI({\n\tname:\"rec_dialog\",\n\tdefaults:{\n\t\theight:210,\n\t\tcss: \"webix_scheduler dialog\",\n\t\thead: false,\n\t\tbody:{\n\t\t\ttype:\"clean\",\n\t\t\trows:[\n\t\t\t\t{id: \"webix_confirm_message\",  template: \"<div class='webix_dialog_text'>#text#</div>\",\n\t\t\t\t\tdata:{ text: \"You have forgot to define the text :) \" }\n\t\t\t\t},\n\t\t\t\t{\theight:44, view:\"altbutton\", label:\"Series\", click:function(){\n\t\t\t\t\tthis.getParentView().getParentView()._callback(1);\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ \theight:44, view:\"altbutton\", label:\"Occurrence\", click:function(){\n\t\t\t\t\tthis.getParentView().getParentView()._callback(2);\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\theight:44, view:\"altbutton\", css: \"cancel\", label:\"Cancel\", click:function(){\n\t\t\t\t\tthis.getParentView().getParentView()._callback(false);\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tlabelSeries_setter:function(value){\n\t\tvar body = this._body_cell._cells[1];\n\t\tbody.config.label = value;\n\t\tbody.render();\n\t},\n\tlabelEvent_setter:function(value){\n\t\tvar body = this._body_cell._cells[2];\n\t\tbody.config.label = value;\n\t\tbody.render();\n\t},\n\tlabelCancel_setter:function(value){\n\t\tvar body = this._body_cell._cells[3];\n\t\tbody.config.label = value;\n\t\tbody.render();\n\t}\n},webix.ui.alert);\nwebix.rec_dialog = webix.single(webix.ui.rec_dialog);","import \"./views/button\"; //fix for styled buttons\nimport * as modLocale from \"./defaults/locale\";\nimport * as modConfig from \"./defaults/config\";\nimport * as modXY from \"./defaults/xy\";\nimport * as modTemplates from \"./defaults/templates\";\n\nimport * as rec from \"./scheduler_recurring\";\n\nimport \"./views/dayevents\";\nimport \"./views/datetext\";\nimport \"./views/weekevents\";\nimport \"./views/ariabutton\";\n\n\nimport \"./views/recurring/datecells\";\nimport \"./views/recurring/rectext\";\nimport \"./views/recurring/endrec\";\nimport \"./views/recurring/reclist\";\nimport \"./views/recurring/daily\";\nimport \"./views/recurring/weekly\";\nimport \"./views/recurring/weeklist\";\nimport \"./views/recurring/monthly\";\nimport \"./views/recurring/yearly\";\nimport \"./views/recurring/dialog\";\n\n\nif (!window.scheduler)\n\twindow.scheduler = {\t\n\t\tconfig:{},\n\t\ttemplates:{},\n\t\txy:{},\n\t\tlocale:{}\n\t};\n\nif(!scheduler.locale)\n\tscheduler.locale = {};\nscheduler.locale.labels = modLocale.values;\nscheduler.config = modConfig.values;\nscheduler.xy = modXY.values;\nscheduler.templates = modTemplates.values;\n\nwebix.ready(function(){\n\twebix.callEvent(\"onBeforeSchedulerInit\",[]);\n\t\n\tif (scheduler.locale&&scheduler.locale.date)\n\t\twebix.Date.Locale = scheduler.locale.date;\n\tvar config  = scheduler.config;\n\tvar labels = scheduler.locale.labels;\n\tvar templates = scheduler.templates;\n\n\tmodConfig.init();\n\t\n\t/*List types*/\n\tvar listType = {\n\t\tcssNoEvents:\"no_events\",\n\t\ttimeStart:templates.event_time,\n\t\tmarker:templates.event_marker, \n\t\teventClass:templates.event_class\n\t};\n\tscheduler.types = {\n\t\tevent_list:webix.extend({\n\t\t\tname:\"EventsList\",\n\t\t\tcss:\"events\",\n\t\t\theaderHeight: scheduler.xy.list_header_height,\n\n\t\t\theight:scheduler.xy.list_height,\n\t\t\ttemplateHeader:templates.event_date,\n\t\t\ttemplate:templates.event_title\n\t\t},listType),\n\t\tday_event_list:webix.extend({\n\t\t\tname:\"DayEventsList\",\n\t\t\tcss:\"day_events\",\n\t\t\theight:scheduler.xy.month_list_height,\n\t\t\ttemplate:templates.month_event_title\n\t\t},listType),\n\t\tmulti_day_list: {\n\t\t\tname:\"MultiDayEvents\",\n\t\t\theight: 32,\n\t\t\tcss:\"multi_day_events\",\n\t\t\tclassname:function(obj, common, marks){\n\t\t\t\tvar css = \"webix_list_item\";\n\t\t\t\tif (marks && marks.$css)\n\t\t\t\t\tcss += \" \"+marks.$css;\n\t\t\t\treturn css;\n\t\t\t},\n\t\t\taria:function(obj, common, marks){\n\t\t\t\treturn \"role='option'\"+(marks && marks.webix_selected?\" aria-selected='true' tabindex='0'\":\" tabindex='-1'\");\n\t\t\t},\n\t\t\ttemplateCss: scheduler.templates.event_class,\n\t\t\ttemplateStart:webix.template(\"<div webix_l_id='#id#' {common.aria()} class='{common.classname()} {common.templateCss()}' style='width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;{common.templateColor()};'>\"),\n\t\t\ttemplate: templates.multi_day_event,\n\t\t\ttemplateColor: function(obj){\n\t\t\t\treturn scheduler.templates.multi_day_event_style(obj);\n\t\t\t}\n\t\t}\n\t};\n\twebix.type(webix.ui.weekevents, scheduler.types.event_list);\n\twebix.type(webix.ui.list, scheduler.types.day_event_list);\n\twebix.type(webix.ui.list, scheduler.types.multi_day_list);\n\n\twebix.DataDriver.scheduler = {\n\t\trecords:\"/*/event\"\n\t};\n\twebix.extend(webix.DataDriver.scheduler,webix.DataDriver.xml);\n\t\n\t/*the views of scheduler multiview*/\n\t\n\tvar tabViews = [\n\t\t{\n\t\t\tid:\"day\",\n\t\t\trows:[\n\t\t\t\t{\t\n\t\t\t\t\tid:\"dayBar\",\n\t\t\t\t\tview:\"toolbar\",\n\t\t\t\t\tcss:\"webix_topbar\",\n\t\t\t\t\tcols: config.day_toolbar,\n\t\t\t\t\theight:50\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid:\"multiDayList\",\n\t\t\t\t\tview:\"list\",\n\t\t\t\t\tautoheight: true,\n\t\t\t\t\ttype:\"MultiDayEvents\",\n\t\t\t\t\tyCount: config.multi_day_limit\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid:\"dayList\",\n\t\t\t\t\tview:\"dayevents\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid:\"week\",\n\t\t\trows:[\n\t\t\t\t{\n\t\t\t\t\tid:\"weekBar\",\n\t\t\t\t\tview:\"toolbar\",\n\t\t\t\t\tcss:\"webix_topbar\",\n\t\t\t\t\telements: config.week_toolbar,\n\t\t\t\t\theight:50\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"weekEventsList\",\n\t\t\t\t\tview:\"weekevents\",\n\t\t\t\t\ttype:\"EventsList\",\n\t\t\t\t\tstartDate:new Date(),\n\t\t\t\t\tnoEvents: labels.label_no_events\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid:\"month\",\n\t\t\tview: \"scrollview\",\n\t\t\tscroll:false,\n\t\t\tbody: {\n\t\t\t\trows:[\n\t\t\t\t\t{\n\t\t\t\t\t\tid:\"calendar\",\n\t\t\t\t\t\tview:\"calendar\",\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\ticons: false,\n\t\t\t\t\t\theight: 310,\n\t\t\t\t\t\tdayWithEvents: templates.calendar_event,\n\t\t\t\t\t\tdayNoEvents:templates.calendar_day,\n\t\t\t\t\t\tcalendarHeader:config.calendar_date\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:\"calendarDayEvents\",\n\t\t\t\t\t\tview:\"list\",\n\t\t\t\t\t\ttype:\"DayEventsList\"\n\t\t\t\t\t}\n\n\t\t\t\t]\n\t\t\t}\n\n\t\t}\n\t].concat(config.tab_views);\n\n\tvar delete_button = {view:\"altbutton\", height:44,\tlabel:labels.icon_delete,\tid:\"delete\", type:\"danger\" ,css:\"delete\"};\n\tif(screen.width>500){\n\t\tdelete_button.width = 300;\n\t\tdelete_button = { type:\"clean\",cols:[{},delete_button,{}] };\n\t}\n\n\tvar views = [\n\t\t{\n\t\t\trows:[\n\t\t\t\t{\n\t\t\t\t\tview:\"multiview\",\n\t\t\t\t\tid:\"tabViews\",\n\t\t\t\t\tanimate: (webix.env.touch?{}:false),\n\t\t\t\t\tcells: tabViews\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t//view:\"toolbar\",\n\t\t\t\t\tid:\"bottomBar\",\n\t\t\t\t\tcss: \"webix_bottombar\",\n\t\t\t\t\theight: 55,\n\t\t\t\t\tpadding: 5,\n\t\t\t\t\tvisibleBatch:\"default\",\n\t\t\t\t\tcols: config.bottom_toolbar\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid:\"event\",\n\t\t\t/*animate:{\n\t\t\t\ttype:\"slide\",\n\t\t\t\tsubtype:\"in\",\n\t\t\t\tdirection:\"top\"\n\t\t\t},*/\n\n\t\t\trows:[\n\t\t\t\t{\n\t\t\t\t\tid:\"eventBar\",\n\t\t\t\t\tview:\"toolbar\",\n\t\t\t\t\tcss:\"webix_subbar\",\n\t\t\t\t\telements: config.selected_toolbar,\n\t\t\t\t\theight:50\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"clean\",\n\t\t\t\t\tpaddingX: 10,\n\t\t\t\t\trows:[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid:\"eventTemplate\",\n\t\t\t\t\t\t\tview:\"template\",\n\t\t\t\t\t\t\tcss: \"webix_event_view\",\n\t\t\t\t\t\t\ttemplate:templates.selected_event\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_button,\n\t\t\t\t\t\t{\tview:\"template\",height:20}\n\t\t\t\t\t]\n\t\t\t\t}\n\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid:\"form\",\n\t\t\trows:[\n\t\t\t\t{\t\n\t\t\t\t\tid:\"editBar\",\n\t\t\t\t\tview:\"toolbar\",\n\t\t\t\t\tcss: \"webix_subbar\",\n\t\t\t\t\telements:config.form_toolbar,\n\t\t\t\t\theight:50\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid:\"editForm\",\n\t\t\t\t\tview:\"form\",\n\t\t\t\t\tscroll: true,\n\t\t\t\t\telements: config.form,\n\t\t\t\t\tmargin:2,\n\t\t\t\t\tpadding:10,\n\t\t\t\t\trules: config.form_rules,\n\t\t\t\t\telementsConfig:{\n\t\t\t\t\t\theight:42\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid:\"formdate\",\n\t\t\trows:[\n\t\t\t\t{\t\n\t\t\t\t\tid:\"dateBar\",\n\t\t\t\t\tview:\"toolbar\",\n\t\t\t\t\tcss: \"webix_subbar\",\n\t\t\t\t\telements:config.date_toolbar,\n\t\t\t\t\theight:50\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid:\"dateForm\",\n\t\t\t\t\ttype: \"clean\",\n\t\t\t\t\trows:[\n\t\t\t\t\t\t{view:\"calendar\", height:310, timepickerHeight: 35,css:\"form_calendar\", icons: false, id:\"formCalendar\", width: 0,  calendarTime:config.calendar_hour, timepicker:1,hourStart:0},\n\t\t\t\t\t\t{view:\"template\", css:\"form_template\"}\n\t\t\t\t\t] \n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t].concat(config.views);\n\t\n\twebix.protoUI({\n\t\tname:\"scheduler\",\n\t\tversion:\"{{version}}\",\n\t\tdefaults:{\n\t\t\trows:[\n\t\t\t\t{\n\t\t\t\t\tview:\"multiview\",\n\t\t\t\t\tid:\"views\",\n\t\t\t\t\tanimate: (webix.env.touch?{}:false),\n\t\t\t\t\tcells: views\n\t\t\t\t}\n\t\t\t],\n\t\t\tcolor:\"#color#\",\n\t\t\ttextColor:\"#textColor#\"\n\t\t},\n\t\t_setDateMethods: function(){\n\t\t\twebix.i18n.dateFormat = config.item_date;\n\t\t\twebix.i18n.weekDateFormat = config.week_date;\n\t\t\twebix.i18n.formDate = config.form_date;\n\t\t\twebix.i18n.formAllDayFormat = config.form_all_day;\n\t\t\twebix.i18n.timeFormat = config.hour_date;\n\n\t\t\twebix.i18n.fullDateFormat = config.parse_date;\n\t\t\twebix.i18n.fullDateFormatUTC = config.server_utc;\n\n\t\t\twebix.i18n.longDateFormat = config.all_day_date;\n\t\t\twebix.i18n.headerFormatStr = webix.Date.dateToStr( config.day_header_date);\n\t\t\twebix.i18n.headerWeekFormatStr = webix.Date.dateToStr( config.week_header_date);\n\t\t\twebix.i18n.loadDateFormat = config.dyn_load_date;\n\n\t\t\tvar helpers = [\"formDate\",\"formAllDayFormat\",\"loadDateFormat\",\"weekDateFormat\"];\n\t\t\tfor( var i=0; i<helpers.length; i++){\n\t\t\t\tvar key = helpers[i];\n\t\t\t\tvar utc = webix.i18n[key+\"UTC\"];\n\t\t\t\twebix.i18n[key+\"Str\"] = webix.Date.dateToStr(webix.i18n[key], utc);\n\t\t\t\twebix.i18n[key+\"Date\"] = webix.Date.strToDate(webix.i18n[key], utc);\n\t\t\t}\n\t\t\twebix.i18n.setLocale();\n\t\t},\n\t\t$init: function(){\n\t\t\tthis.name = \"scheduler\";\n\t\t\tthis.$view.className += \" webix_scheduler\";\n\t\t\t/*date format functions*/\n\t\t\tthis._setDateMethods(config);\n\t\t\t\n\t\t\tthis.data.provideApi(this);\n\t\t\tthis.data.scheme({\n\t\t\t\t$init:function(data){\n\t\t\t\t\tif(typeof data.start_date==\"string\")\n\t\t\t\t\t\tdata.start_date\t= webix.i18n.fullDateFormatDate(data.start_date);\n\t\t\t\t\tif(typeof data.end_date==\"string\")\n\t\t\t\t\t\tdata.end_date \t= webix.i18n.fullDateFormatDate(data.end_date);\n\t\t\t\t},\n\t\t\t\t$update:function(data){\n\t\t\t\t\tif(typeof data.start_date==\"string\")\n\t\t\t\t\t\tdata.start_date\t= webix.i18n.fullDateFormatDate(data.start_date);\n\t\t\t\t\tif(typeof data.end_date==\"string\")\n\t\t\t\t\t\tdata.end_date \t= webix.i18n.fullDateFormatDate(data.end_date);\n\t\t\t\t},\n\t\t\t\t$serialize:function(data){\n\t\t\t\t\tvar obj = {};\n\t\t\t\t\tobj.start_date = webix.i18n.fullDateFormatStr(webix.Date.copy(data.start_date));\n\t\t\t\t\tobj.end_date = webix.i18n.fullDateFormatStr(webix.Date.copy(data.end_date));\n\t\t\t\t\twebix.extend(obj,data);\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.$ready.push(this._initStructure);\n\t\t\n\t\t\twebix.callEvent(\"onAfterSchedulerInit\",[this]);\n\t\t\t\n\t\t},\n\t\tsyncData:function(target, start, end, filter){\n\n\t\t\tvar events = this.getEvents(start, end);\n\n\t\t\ttarget.data.clearAll();\n\t\t\tvar tpull = target.data.pull;\n\t\t\tvar torder = target.data.order;\n\t\t\tevents = this._correctEventsDates(start, events);\n\t\t\tfor (var i=0; i<events.length; i++){\n\t\t\t\tif(!filter || filter.call(target, events[i], start, end)){\n\t\t\t\t\tvar id = events[i].id;\n\t\t\t\t\ttorder.push(id);\n\t\t\t\t\ttpull[id]=events[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_syncAllViews:function(){\t\n\t\t\tthis.coreData.callEvent(\"onChange\",[]);\n\t\t\tthis.$$(\"multiDayList\").getParentView().resize();\n\t\t},\n\t\tgetWeekTitle: function(date){\n\t\t\treturn scheduler.templates.week_title(date);\n\t\t},\n\t\tgetDayTitle:function(date){\n\t\t\treturn scheduler.templates.day_title(date);\n\t\t},\n\t\tgetTodayMultiEvents:function(){\n\t\t\tvar scheduler = this.getTopParentView();\n\t\t\tvar d = webix.Date.datePart(scheduler.coreData.getValue(),true);\n\t\t\tvar next = webix.Date.add(d,1,\"day\",true);\n\t\t\tscheduler.syncData(this, d, next,function(ev){\n\t\t\t\tvar dateStart = webix.Date.datePart(ev.start_date,true);\n\t\t\t\tvar dateEnd = webix.Date.datePart(ev.end_date,true);\n\t\t\t\treturn !webix.Date.equal(dateStart, dateEnd) && ev.start_date.valueOf()<=d.valueOf()&& ev.end_date.valueOf()>=next.valueOf();\n\t\t\t});\n\t\t\tthis.resize();\n\t\t},\n\t\tgetWeekEvents:function(){\n\t\t\tvar scheduler = this.getTopParentView();\n\t\t\tvar d =  webix.Date.weekStart(scheduler.coreData.getValue());\n\t\t\tvar next = webix.Date.add(d,6,\"day\",true);\n\t\t\tvar filter = null;\n\n\t\t\tif(config.multi_day && scheduler.$$(\"weekEventsList\").isVisible())\n\t\t\t\tfilter = function(ev){\n\t\t\t\t\tvar dateStart = webix.Date.datePart(ev.start_date,true);\n\t\t\t\t\tvar dateEnd = webix.Date.datePart(ev.end_date,true);\n\t\t\t\t\treturn webix.Date.equal(dateStart, dateEnd) || ev.start_date.valueOf()>d.valueOf() || ev.end_date.valueOf()<next.valueOf()\n\t\t\t\t\t\t|| ev.start_date.valueOf()<=d.valueOf()&& ev.end_date.valueOf()>=next.valueOf();\n\t\t\t\t};\n\t\t\tscheduler.syncData(this, d, next, filter);\n\t\t},\n\t\tgetTodayEvents:function(){\n\t\t\tvar scheduler = this.getTopParentView();\n\t\t\tvar d = webix.Date.datePart(scheduler.coreData.getValue(),true);\n\t\t\tvar next = webix.Date.add(d,1,\"day\",true);\n\t\t\tvar filter = null;\n\n\t\t\tif(config.multi_day && scheduler.$$(\"dayList\").isVisible())\n\t\t\t\tfilter = function(ev){\n\t\t\t\t\tvar dateStart = webix.Date.datePart(ev.start_date,true);\n\t\t\t\t\tvar dateEnd = webix.Date.datePart(ev.end_date,true);\n\t\t\t\t\treturn webix.Date.equal(dateStart, dateEnd) || ev.start_date.valueOf()>d.valueOf() || ev.end_date.valueOf()<next.valueOf();\n\t\t\t\t};\n\t\t\tscheduler.syncData(this, d, next, filter);\n\t\t},\n\t\t_setMonthFlags:function(){\n\t\t\tif (!this.isVisible()) return;\n\t\t\tvar top = this.getTopParentView();\n\n\t\t\tvar start = webix.Date.datePart(webix.Date.copy(this.getVisibleDate()));\n\t\t\tstart.setDate(1);\n\t\t\tvar end = webix.Date.add(start,1,\"month\",true);\n\n\t\t\ttop._eventsByDate = {};\n\t\t\tvar events = top.getEvents(start, end);\n\n\t\t\twhile(start<end){\n\t\t\t\tvar next = webix.Date.add(start,1,\"day\",true);\n\t\t\t\tfor (var i=0; i<events.length; i++)\n\t\t\t\t\tif (events[i].start_date < next && events[i].end_date > start )\n\t\t\t\t\t\ttop._eventsByDate[start.valueOf()]=true;\n\t\t\t\tstart = next;\n\t\t\t}\n\t\t},\n\t\t_initHotKeys:function(){\n\t\t\t\n\t\t\tfunction click(view){\n\t\t\t\tvar id = view.getSelectedId() || view.locate(document.activeElement);\n\t\t\t\tif(id) this._on_event_clicked(id);\n\t\t\t}\n\n\t\t\twebix.UIManager.addHotKey(\"enter\", webix.bind(click, this), this.$$(\"dayList\"));\n\t\t\twebix.UIManager.addHotKey(\"enter\", webix.bind(click, this), this.$$(\"weekEventsList\"));\n\t\t\twebix.UIManager.addHotKey(\"enter\", webix.bind(click, this), this.$$(\"multiDayList\"));\n\t\t\twebix.UIManager.addHotKey(\"enter\", webix.bind(click, this), this.$$(\"calendarDayEvents\"));\n\t\t},\n\t\t_initStructure:function(){\n\t\t\tthis._initToolbars();\n\t\t\tthis._initMonth();\n\t\t\tthis._initHotKeys();\n\n\t\t\t//store current date\n\t\t\tthis.coreData = new webix.DataValue();\n\t\t\tthis.coreData.setValue(config.init_date);\n\n\t\t\tthis.$$(\"dayList\").define(\"date\",this.coreData);\n\t\t\t\n\t\t\tthis.selectedEvent = new webix.DataRecord();\n\t\t\t\n\t\t\tif(this.config.readonly){\n\t\t\t\tthis.define(\"readonly\",this.config.readonly);\n\t\t\t}\n\t\t\telse if(config.readonly)\n\t\t\t\tthis.define(\"readonly\",true);\n\t\t\t\n\n\t\t\tif(this.$$(\"date\")){\n\t\t\t\tvar dayTitle =  this.getDayTitle(config.init_date);\n\t\t\t\tthis.$$(\"date\").setValue(dayTitle);\n\t\t\t\tthis.$$(\"date\").config.label = this.$$(\"date\").config.value;\n\t\t\t\tthis.$$(\"date\").bind(this.coreData, null, webix.i18n.headerFormatStr);\n\t\t\t}\n\n\t\t\tif(this.$$(\"weekTitle\")){\n\t\t\t\tvar weekTitle = this.getWeekTitle(config.init_date);\n\t\t\t\tthis.$$(\"weekTitle\").setValue(weekTitle);\n\t\t\t\tthis.$$(\"weekTitle\").config.label = weekTitle;\n\t\t\t\tthis.$$(\"weekTitle\").bind(this.coreData, null, webix.bind(this.getWeekTitle,this));\n\t\t\t}\n\n\n\t\t\tthis.data.attachEvent(\"onStoreUpdated\", this._sortDates);\n\t\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._syncAllViews, this));\n\n\t\t\tif(config.multi_day){\n\t\t\t\tthis.$$(\"multiDayList\").define(\"dataFeed\", this.getTodayMultiEvents);\n\t\t\t\tthis.$$(\"multiDayList\").bind(this.coreData);\n\t\t\t}\n\n\t\t\tthis.$$(\"weekEventsList\").define(\"dataFeed\", this.getWeekEvents);\n\t\t\tthis.$$(\"weekEventsList\").bind(this.coreData);\n\n\t\t\t//custom data binding for day-list\n\t\t\tthis.$$(\"dayList\").define(\"dataFeed\", this.getTodayEvents);\n\t\t\tthis.$$(\"dayList\").bind(this.coreData);\n\n\t\t\tthis.$$(\"calendarDayEvents\").define(\"dataFeed\", this.getTodayEvents);\n\t\t\tthis.$$(\"calendarDayEvents\").bind(this.coreData);\n\n\t\t\tthis.$$(\"calendar\").bind(this.coreData);\n\t\t\tthis.$$(\"calendar\").attachEvent(\"onBeforeRender\", this._setMonthFlags);\n\t\t\t/*to redraw calendar when coreDate got changed */\n\t\t\tthis.coreData.attachEvent(\"onChange\", webix.bind(function(){\n\t\t\t\tif(!this._isFormCalendarZoomed){\n\t\t\t\t\tif(this._load_mode&&this._load_url)\n\t\t\t\t\t\tthis.load.apply(this,[this._load_url]);\n\t\t\t\t\tthis.$$(\"calendar\").render();\n\t\t\t\t}\n\t\t\t},this));\n\t\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(function(){\n\t\t\t\tthis._loaded_ranges = {};\n\t\t\t},this));\n\n\t\t\tthis.data.attachEvent(\"onIdChange\",webix.bind(function(){\n\t\t\t\tthis._syncAllViews();\n\t\t\t},this));\n\t\t\t\n\t\t\tthis.$$(\"eventTemplate\").bind(this);\n\n\n\t\t\tthis.$$(\"weekEventsList\").attachEvent(\"onItemClick\", webix.bind(this._on_event_clicked, this));\n\t\t\tthis.$$(\"dayList\").attachEvent(\"onItemClick\", webix.bind(this._on_event_clicked, this));\n\t\t\tthis.$$(\"multiDayList\").attachEvent(\"onItemClick\", webix.bind(this._on_event_clicked, this));\n\t\t\tthis.$$(\"calendarDayEvents\").attachEvent(\"onItemClick\", webix.bind(this._on_event_clicked, this));\n\n\t\t\tthis.$$(\"tabViews\").attachEvent(\"onViewChange\", webix.bind(this._onViewChanged, this));\n\t\t\tthis.attachEvent(\"onBeforeEventShow\", webix.bind(this._onViewChanged, this));\n\n\t\t\tthis.$$(config.mode||\"week\").show(false,false);\n\t\t\tthis._initForm();\n\n\t\t},\n\t\t_initForm: function(){\n\n\t\t\tthis.$$(\"editForm\").bind(this);\n\n\t\t\t/*Start and End date selection*/\n\t\t\tthis.dateField = new webix.DataValue();\n\t\t\tthis.dateField.setValue(\"start_date\");\n\t\t\tthis.$$(\"datetype\").bind(this.dateField, null, function(value){\n\t\t\t\treturn (value == \"start_date\"?labels.label_start:labels.label_end);\n\t\t\t});\n\n\t\t\tthis.$$(\"formCalendar\").attachEvent(\"onAfterZoom\",webix.bind(function(zoom){\n\t\t\t\tthis._isFormCalendarZoomed = !!zoom;\n\t\t\t\tif(zoom){\n\t\t\t\t\tthis.$$(\"cancel_date\").hide();\n\t\t\t\t}\n\t\t\t},this));\n\t\t\tthis.$$(\"formCalendar\").attachEvent(\"onBeforeRender\", webix.bind(function(){\n\t\t\t\tthis.$$(\"cancel_date\").show();\n\t\t\t},this));\n\t\t},\n\t\t_onViewChanged:function(){\n\t\t\tthis.$$(\"multiDayList\").unselectAll();\n\t\t\tthis.$$(\"dayList\").unselectAll();\n\t\t\tthis.$$(\"weekEventsList\").unselectAll();\n\t\t\tthis.$$(\"calendarDayEvents\").unselectAll();\n\t\t},\n\t\t_on_event_clicked:function(id){\n\t\t\tthis._last_selected = (id||\"\").toString().split(\"#\");\n\t\t\tif (this._last_selected[1])\n\t\t\t\tthis.setCursor(null);\n\t\t\tthis.setCursor(this._last_selected[0]);\n\t\t\tif(this.callEvent(\"onBeforeEventShow\",[this._last_selected[0]]))\n\t\t\t\tthis.$$(\"event\").show();\n\n\t\t},\n\t\t/*Sorts dates asc, gets hash of dates with event*/\n\t\t_sortDates:function(){\n\t\t\tthis.blockEvent();\n\t\t\tthis.sort(function(a,b){\n\t\t\t\treturn a.start_date < b.start_date?-1:1;\n\t\t\t});\n\t\t\tthis.unblockEvent();\n\t\t},\n\t\t/* Month Events view: sets event handlers */\n\t\t_initMonth:function(){\n\t\t\tthis.$$(\"calendar\").attachEvent(\"onDateSelect\",webix.bind(function(date){\n\t\t\t\tthis._isMonthCalendarZoomed = false;\n\t\t\t\tthis.setDate(date);\n\t\t\t},this));\n\n\t\t\tthis.$$(\"calendar\").attachEvent(\"onChange\", webix.bind(function(date){\n\t\t\t\tif(!this._isMonthCalendarZoomed){\n\t\t\t\t\tthis.$$(\"calendar\").blockEvent();\n\t\t\t\t\tthis.setDate(date);\n\t\t\t\t\tthis.$$(\"calendar\").unblockEvent();\n\t\t\t\t}\n\t\t\t},this));\n\n\t\t\tthis.$$(\"calendar\").attachEvent(\"onAfterZoom\", webix.bind(function(zoom){\n\t\t\t\tthis._isMonthCalendarZoomed = !!zoom;\n\t\t\t\tif(!zoom)\n\t\t\t\t\tthis.$$(\"calendar\").callEvent(\"onBeforeMonthChange\",[null, this.$$(\"calendar\").config.date]);\n\t\t\t}, this));\n\n\t\t\tthis.$$(\"calendar\").attachEvent(\"onBeforeMonthChange\",webix.bind(function(oldDate, date){\n\t\t\t\tif(!this._isFormCalendarZoomed){\n\t\t\t\t\tvar today = new Date();\n\t\t\t\t\tif(date.getMonth()===today.getMonth()&&date.getYear()===today.getYear())\n\t\t\t\t\t\tdate = today;\n\t\t\t\t\telse\n\t\t\t\t\t\tdate.setDate(1);\n\n\t\t\t\t\tif(!this._isMonthCalendarZoomed){\n\t\t\t\t\t\tif(this.$$(\"tabViews\").config.animate){\n\t\t\t\t\t\t\twebix.ui.animateView(this.$$(\"month\").getBody(), webix.bind(function(){\n\t\t\t\t\t\t\t\tthis.setDate(date);\n\t\t\t\t\t\t\t},this), {type: \"slide\", direction: (oldDate < date ?\"left\":\"right\") });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.setDate(date);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},this));\n\n\t\t\tthis.$$(\"calendar\").config.dayTemplate = webix.bind(function(date){\n\t\t\t\tif(this._eventsByDate && this._eventsByDate[date.valueOf()])\n\t\t\t\t\treturn this.$$(\"calendar\").config.dayWithEvents(date);\n\t\t\t\treturn this.$$(\"calendar\").config.dayNoEvents(date);\n\t\t\t},this);\n\t\t},\n\t\tgetEvents:function(from,to){\n\n\t\t\tif (!to) to = new Date(9999,0,1);\n\n\t\t\tvar result = [];\n\t\t\tvar evs = this.data.getRange();\n\n\t\t\tfor(var i = 0; i < evs.length;i++){\n\t\t\t\tif ((evs[i].start_date<to) && (evs[i].end_date>from))\n\t\t\t\t\tresult.push(webix.copy(evs[i]));\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t_correctEventsDates: function(date,events){\n\n\t\t\tvar event;\n\t\t\tvar result = [];\n\t\t\tif(events)\n\t\t\t\tfor(var i=0; i< events.length;i++){\n\t\t\t\t\tevent = {\n\t\t\t\t\t\tstart_date: webix.Date.copy(events[i].start_date),\n\t\t\t\t\t\tend_date: webix.Date.copy(events[i].end_date)\n\t\t\t\t\t};\n\t\t\t\t\twebix.extend(event,events[i]);\n\t\t\t\t\tif(event.start_date.valueOf()< date.valueOf()){\n\t\t\t\t\t\tevent.start_date = webix.Date.add(webix.Date.datePart(event.start_date),1,\"day\",true);\n\t\t\t\t\t}\n\t\t\t\t\tvar id = (id||\"\").toString().split(\"#\");\n\t\t\t\t\tvar endDate = event.rec_type?new Date(id[1]*1000+event.event_length*1000):event.end_date;\n\t\t\t\t\tif(endDate.valueOf()> webix.Date.add(date,1,\"day\",true).valueOf()){\n\t\t\t\t\t\tendDate = webix.Date.datePart(endDate);\n\t\t\t\t\t\tevent.end_date = webix.Date.add(endDate,1,\"day\",true);\n\t\t\t\t\t}\n\t\t\t\t\tresult.push(event);\n\t\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t/*applies selected date to all lists*/\n\t\tsetDate:function(date, inc, mode){\n\t\t\tif (!date)\n\t\t\t\tdate = this.coreData.getValue();\n\t\t\telse \n\t\t\t\tdate = webix.Date.datePart(date,true);\n\n\t\t\tif (inc)\n\t\t\t\tdate = webix.Date.add(date, inc, mode, true);\n\n\t\t\tthis.coreData.setValue(date);\n\t\t},\n\t\t_initToolbars:function(){\n\t\t\tthis.attachEvent(\"onItemClick\", function(id){\n\t\t\t\t\n\t\t\t\tvar view_id = this.innerId(id);\n\t\t\t\tswitch(view_id){\n\t\t\t\t\tcase \"today\":\n\t\t\t\t\t\tthis.setDate(new Date());\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\tif(this.innerId(this.$$(\"views\").getActiveId()) == \"form\"){\n\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\twebix.confirm({\n\t\t\t\t\t\t\t\theight:scheduler.xy.confirm_height,\n\t\t\t\t\t\t\t\twidth:scheduler.xy.confirm_width,\n\t\t\t\t\t\t\t\ttitle: labels.icon_close,\n\t\t\t\t\t\t\t\tmessage: labels.confirm_closing,\n\t\t\t\t\t\t\t\tcallback: function(result) {\n\t\t\t\t\t\t\t\t\tif (result){\n\t\t\t\t\t\t\t\t\t\tself._addEvent();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tok:labels.icon_yes,\n\t\t\t\t\t\t\t\tcancel:labels.icon_no,\n\t\t\t\t\t\t\t\tcss:\"confirm\"\n\t\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis._addEvent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"prev\":\n\t\t\t\t\t\tthis.setDate(null, -1, \"day\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"next\":\n\t\t\t\t\t\tthis.setDate(null, 1, \"day\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"prevWeek\":\n\t\t\t\t\t\tthis.setDate(null, -1, \"week\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"nextWeek\":\n\t\t\t\t\t\tthis.setDate(null, 1, \"week\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"edit\":\n\t\t\t\t\t\tthis._editEvent();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"cancel_date\":\n\t\t\t\t\tcase \"back\":\n\t\t\t\t\t\tthis.$$(\"views\").back();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"cancel\":\n\t\t\t\t\t\t/*if(!this.config.editEvent)\n\t\t\t\t\t\t\tthis.remove(this.getCursor());*/\n\t\t\t\t\t\tthis.callEvent(\"onAfterCursorChange\",[this.getCursor()]);\n\t\t\t\t\t\tthis.$$(\"views\").back();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"save\":\n\t\t\t\t\t\tthis._saveEvent();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"delete\":\n\t\t\t\t\t\tthis._deleteEvent();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"start_date\":\n\t\t\t\t\tcase \"end_date\":\n\t\t\t\t\t\tif(this.$$(view_id).name == \"datetext\")\n\t\t\t\t\t\t\tthis._showDateForm(view_id);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"done\":\n\t\t\t\t\t\tif(this._isFormCalendarZoomed){\n\t\t\t\t\t\t\tthis.$$(\"formCalendar\").selectDate(this.$$(\"formCalendar\").config.date,true);\n\t\t\t\t\t\t\tthis._isFormCalendarZoomed = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tvar field = this.dateField.getValue();\n\t\t\t\t\t\t\tvar date = this.$$(\"formCalendar\").getValue();\n\t\t\t\t\t\t\tthis.$$(field).setValue(date);\n\t\t\t\t\t\t\tthis._setDefaultDates();\n\t\t\t\t\t\t\tthis.$$(\"views\").back();\n\t\t\t\t\t\t\tthis.$$(\"editForm\").validate();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"allDay\":\n\t\t\t\t\t\tthis._setAllDay();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t//do nothing\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\t\t\n\t\t\t});\n\t\t\tthis.attachEvent(\"onAfterTabClick\", function(id, button){\n\t\t\t\tthis.$$(button).show();\n\t\t\t});\n\t\t\tthis.attachEvent(\"onBeforeTabClick\", function(id, button){\n\t\t\t\treturn this._confirmViewChange(button);\n\t\t\t});\n\t\t},\n\t\treadonly_setter:function(val){\n\t\t\tif(this.$$(\"add\")){\n\t\t\t\tif (val){\n\t\t\t\t\tthis.$$(\"bottomBar\").showBatch(\"readonly\");\n\t\t\t\t\tthis.$$(\"edit\").hide();\n\t\t\t\t\tthis.$$(\"delete\").hide();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$$(\"bottomBar\").showBatch(\"default\");\n\t\t\t\t\tthis.$$(\"edit\").show();\n\t\t\t\t\tthis.$$(\"delete\").show();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\t\t/*removes \"No events\" background*/\n\t\t_clearNoEventsStyle:function(){\n\t\t\tif(this.dataCount())\n\t\t\t\tthis.$view.className = this.$view.className.replace(RegExp(this.type.cssNoEvents, \"g\"),\"\");\n\t\t\telse \n\t\t\t\tthis.$view.className += \" \"+this.type.cssNoEvents;\n\t\t},\n\t\t_saveEvent: function(){\n\t\t\t//alert(this.$$(\"editForm\").validate())\n\t\t\tif(this.$$(\"editForm\").validate()){\n\t\t\t\tif(!this.config.editEvent){\n\t\t\t\t\tvar data = this.$$(\"editForm\").getValues();\n\t\t\t\t\tdata.id = webix.uid();\n\t\t\t\t\tif(data.details&&this._trim(data.text)===\"\"&&this._trim(data.details)!==\"\")\n\t\t\t\t\t\tdata.text = data.details;\n\t\t\t\t\tthis.add(data);\n\t\t\t\t\tthis.setCursor(data.id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$$(\"editForm\").save();\n\t\t\t\t}\n\t\t\t\t//webix.dp(this).save();\n\t\t\t\tthis.setDate();\n\t\t\t\tthis.$$(\"views\").back();\n\t\t\t}\n\t\t},\n\t\t/*deletes the cursored event*/\n\t\t_deleteEvent: function(){\n\t\t\tvar self = this;\n\t\t\twebix.confirm({\n\t\t\t\theight:scheduler.xy.confirm_height,\n\t\t\t\twidth:scheduler.xy.confirm_width,\n\t\t\t\ttitle: labels.icon_delete,\n\t\t\t\ttext: labels.confirm_deleting,\n\t\t\t\tcallback: function(result) {\n\t\t\t\t\tif (result){\n\t\t\t\t\t\tself.remove(self.getCursor());\n\t\t\t\t\t\tself.setDate();\n\t\t\t\t\t\tself.$$(\"views\").back(1);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tok:labels.icon_yes,\n\t\t\t\tcancel:labels.icon_no,\n\t\t\t\tcss:\"confirm\",\n\t\t\t\theader:false\n\t\t\t});\n\t\t},\n\t\t/*adds the new event*/\n\t\t_addEvent:function(){\n\t\t\t/*if(this.$$(\"delete\"))\n\t\t\t\tthis.$$(\"delete\").hide();*/\n\t\t\tthis.define(\"editEvent\",false);\t\t\t\t\n\t\t\tthis.$$(\"form\").show();\n\t\t\t\n\t\t\t\n\t\t\tthis.$$(\"editForm\").clear();\n\t\t\tthis.$$(\"editForm\").clearValidation();\n\t\t\tthis.$$(\"editForm\").setValues(templates.new_event_data.call(this));\n\t\t\tthis._setDefaultDates();\n\t\t},\n\t\teventDefaultDate:function(){\n\t\t\t\n\t\t},\n\t\t/* edit selected event*/\n\t\t_editEvent: function(){\n\t\t\tif(this.$$(\"delete\"))\n\t\t\t\tthis.$$(\"delete\").show();\n\t\t\tthis.define(\"editEvent\",true);\n\t\t\tthis.$$(\"form\").show();\n\t\t\tif(this.$$(\"rec_type\"))\n\t\t\t\tthis.$$(\"rec_type\").setValue(this.$$(\"rec_type\").getValue(),true);\n\t\t\tthis._setDefaultDates();\n\t\t},\n\t\t/*cofirm the view changing (necessary for edit form)*/\n\t\t_confirmViewChange:function(button){\n\t\t\tif(this.innerId(this.$$(\"views\").getActiveId()) == \"form\"){\n\t\t\t\tvar self = this;\n\t\t\t\tif(button!= \"today\")\n\t\t\t\t\twebix.confirm({\n\t\t\t\t\t\twidth:scheduler.xy.confirm_width,\n\t\t\t\t\t\ttitle: labels.icon_close,\n\t\t\t\t\t\ttext: labels.confirm_closing,\n\t\t\t\t\t\tcallback: function(result) {\n\t\t\t\t\t\t\tif (result){\n\t\t\t\t\t\t\t\tself.$$(button).show();\n\t\t\t\t\t\t\t\tself.$$(\"buttons\").setValue(button);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabelOk:labels.icon_yes,\n\t\t\t\t\t\tlabelCancel:labels.icon_no,\n\t\t\t\t\t\tcss:\"confirm\"\n\t\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*displayes calendar for form dates*/\n\t\t_showDateForm:function(name){\n\t\t\tthis.dateField.setValue(name);\n\t\t\tif(this.$$(\"editForm\").elements.allDay)\n\t\t\t\tthis.$$(\"formCalendar\").define(\"timepicker\", !this.$$(\"editForm\").elements.allDay.getValue());\n\t\t\tthis.$$(\"formdate\").show();\n\t\t\twebix.delay(function(){\n\t\t\t\tthis.$$(\"formCalendar\").resize();\n\t\t\t\tthis.$$(\"formCalendar\").selectDate(webix.Date.copy(this.$$(name).getValue()),true);\n\t\t\t},this);\n\t\t},\n\t\t/*checks time of the date*/\n\t\t_checkAllDay:function(date){\n\t\t\treturn date.valueOf()== webix.Date.datePart(date,true).valueOf();\n\t\t},\n\t\t/*onclick handler for addDay toggle*/\n\t\t_setAllDay:function(){\n\t\t\tvar format = (this.$$(\"allDay\").getValue()==\"1\"?webix.i18n.formAllDayFormatStr:webix.i18n.formDateStr);\n\t\t\tvar elements = this.$$(\"editForm\").elements;\n\t\t\tvar fields = [this.$$(\"start_date\"),this.$$(\"end_date\")];\n\t\t\tfor(var i=0;i<2;i++){\n\t\t\t\tfields[i].config.dateFormatStr = format;\n\t\t\t\tif(elements.allDay.getValue()!=1)\n\t\t\t\t\tfields[i].setValue(this._event_date[i],true);\n\t\t\t}\n\t\t\tif(elements.allDay.getValue()==1){\n\t\t\t\tfields[0].setValue(webix.Date.datePart(this._event_date[0],true),true);\n\t\t\t\tvar end = webix.Date.datePart(this._event_date[1],true);\n\t\t\t\tif(end.valueOf()<=fields[0].getValue().valueOf())\n\t\t\t\t\tend = webix.Date.add(end,1,\"day\",true);\n\t\t\t\tfields[1].setValue(end,true);\n\t\t\t}\n\t\t},\n\t\t/*called when editing form is shown. Creates copies of event dates and set allDay state*/\n\t\t_setDefaultDates:function(){\n\t\t\tthis._event_date = [];\n\t\t\tvar elements = this.$$(\"editForm\").elements;\n\t\t\tthis._event_date[0] = this.$$(\"start_date\").getValue();\n\t\t\tthis._event_date[1] = this.$$(\"end_date\").getValue();\n\t\t\tvar value = (this._checkAllDay(this._event_date[0])&&this._checkAllDay(this._event_date[1])&&(this._event_date[1].valueOf()>this._event_date[0].valueOf())?1:0);\n\t\t\tif(!elements.allDay)\n\t\t\t\treturn;\n\t\t\telements.allDay.setValue(value);\n\t\t\tvar format = (elements.allDay.getValue()?webix.i18n.formAllDayFormatStr:webix.i18n.formDateStr);\n\t\t\tvar fields = [this.$$(\"start_date\"),this.$$(\"end_date\")];\n\t\t\tfor(var i=0;i<2;i++){\n\t\t\t\tfields[i].config.dateFormatStr = format;\n\t\t\t\tfields[i].setValue(this._event_date[i],true);\n\n\t\t\t}\n\t\t},\n\t\t/*remove leading and end whitespaces*/\n\t\t_trim: function(value) {\n\t\t\tvalue = value.replace(/^ */g, \"\");\n\t\t\tvalue = value.replace(/ *$/g, \"\");\n\t\t\treturn value;\n\t\t},\n\t\tsetLoadMode:function(mode){\n\t\t\tif (mode==\"all\") mode=\"\";\n\t\t\tthis._load_mode=mode;\n\t\t},\n\t\t_loaded_ranges:{},\n\t\tload: function(url){\n\t\t\tthis._load_url = url;\n\t\t\tvar args = arguments;\n\t\t\tif (this._load_mode && typeof url == \"string\"){\n\t\t\t\turl+=(url.indexOf(\"?\")==-1?\"?\":\"&\")+\"timeshift=\"+(new Date()).getTimezoneOffset();\n\t\t\t\tvar to;\n\t\t\t\tvar from= this.coreData.getValue();\n\t\t\t\tvar lf =  webix.i18n.loadDateFormatStr;\n\n\t\t\t\tfrom = webix.Date[this._load_mode+\"Start\"](new Date(from.valueOf()));\n\t\t\t\tto = from;\n\n\t\t\t\tto=webix.Date.add(to,1,this._load_mode,true);\n\t\t\t\tif (this._loaded_ranges[lf(from)])\n\t\t\t\t\tfrom=webix.Date.add(from,1,this._load_mode,true);\n\n\t\t\t\tvar temp_to=to;\n\t\t\t\tdo {\n\t\t\t\t\tto = temp_to;\n\t\t\t\t\ttemp_to=webix.Date.add(to,-1,this._load_mode,true);\n\t\t\t\t} while (temp_to>from && this._loaded_ranges[lf(temp_to)]);\n\n\t\t\t\tif (to<=from)\n\t\t\t\t\treturn false; //already loaded\n\t\t\t\targs[0] = url+\"&from=\"+lf(from)+\"&to=\"+lf(to);\n\n\t\t\t\twhile(from<to){\n\t\t\t\t\tthis._loaded_ranges[lf(from)]=true;\n\t\t\t\t\tfrom=webix.Date.add(from,1,this._load_mode,true);\n\t\t\t\t}\n\t\t\t}\n\t\t\twebix.DataLoader.prototype.load.apply(this,args);\n\t\t}\n\t}, webix.IdSpace, webix.DataLoader, webix.ui.layout, webix.EventSystem, webix.Settings);\n});\n\n\nrec.code();\n// #include scheduler/scheduler_recurring.js","export const values = {\n\tweek_tab : \"Week\",\n\tday_tab : \"Day\",\n\tmonth_tab : \"Month\",\n\ticon_today : \"Today\",\n\ticon_add:\"Add\",\n\ticon_save : \"Save\",\n\ticon_done : \"Done\",\n\ticon_delete : \"Delete event\",\n\ticon_cancel : \"Cancel\",\n\ticon_edit : \"Edit\",\n\ticon_back : \"Back\",\n\ticon_close : \"Close form\",\n\ticon_yes : \"Yes\",\n\ticon_no : \"No\",\n\ticon_prev_day:\"Previous day\",\n\ticon_next_day:\"Next week\",\n\ticon_prev_week:\"Previous week\",\n\ticon_next_week:\"Next day\",\n\tconfirm_closing : \"Your changes will be lost, are your sure ?\",\n\tconfirm_deleting : \"The event will be deleted permanently, are you sure?\",\n\tlabel_event:\"Event\",\n\tlabel_start:\"Start\",\n\tlabel_end:\"End\",\n\tlabel_details:\"Notes\",\n\tlabel_from: \"from\",\n\tlabel_to: \"to\",\n\tlabel_allday: \"All day\",\n\tlabel_time: \"Time\",\n\tlabel_no_events : \"No Events\",\n\trecurring: {\n\t\tnone:\"Never\",\n\t\tdaily:\"Daily\",\n\t\tday:\"day(s)\",\n\t\tevery:\"Every\",\n\t\tweekly: \"Weekly\",\n\t\tweek:\"week(s) on\",\n\t\teach:\"Each\",\n\t\ton_day: \"on the\",\n\t\tmonthly: \"Monthly\",\n\t\tmonth: \"month(s)\",\n\t\tmonth_day:\"on what day of the month\",\n\t\tweek_day:\"on what day of the week\",\n\t\tyearly: \"Yearly\",\n\t\tyear: \"year(s) in\",\n\t\tcounters:[\"the first\",\"the second\",\"the third\", \"the fourth\", \"the fifth\"],\n\t\tnever:\"Never\",\n\t\trepeat:\"Repeat\",\n\t\tend_repeat:\"End repeat\",\n\t\tendless_repeat:\"Endless repeat\",\n\t\tend_repeat_label: \"Repeat will end by\",\n\t\tedit_message: \"Do you want to edit the whole set of repeated events?\",\n\t\tedit_series: \"Edit series\",\n\t\tedit_occurrence: \"Edit occurrence\",\n\t\tdelete_message: \"Do you want to delete the whole set of repeated events?\",\n\t\tdelete_series: \"Delete series\",\n\t\tdelete_occurrence: \"Delete occurrence\"\n\t}\n};","export const values = {\n\tconfirm_height : 180,\n\tconfirm_width : 250,\n\tscale_width : 40,\n\tmin_event_height: 20,\n\tscale_height : 20,\n\tweek_tab:60,\n\tday_tab:60,\n\tmonth_tab:68,\n\ticon_today : 55,\n\ticon_save : 90,\n\ticon_done : 90,\n\ticon_cancel : 80,\n\ticon_edit : 90,\n\ticon_back : 70,\n\tlist_header_height: 30,\n\tlist_height: 50,\n\tall_day: 120,\n\tmonth_list_height: 50,\n\trecurring: {\n\t\tlabel_end_repeat: 140,\n\t\tlabel_end_by: 240,\n\t\tlabel_every: 65,\n\t\twork_days:180\n\t}\n};"],"names":["webix","protoUI","name","$cssName","$renderInput","obj","css","type","popup","template","escape","label","value","ui","button","values","init_date","Date","form_date","form_all_day","parse_date","week_date","dyn_load_date","item_date","all_day_date","day_header_date","week_header_date","hour_date","scale_hour","calendar_date","calendar_hour","form_rules","end_date","start_date","valueOf","multi_day","multi_day_limit","views","tab_views","server_utc","separate_short_events","recurring","endless_date","recurring_dialogs","labels","xy","config","templates","day_event_style","style","color","rgb","toRgb","toString","hsv","rgbToHsv","hsvToRgb","multi_day_event_style","selected_event","html","fts","fte","start","end","scheduler","event_class","text","datePart","fd","i18n","dateFormatStr","timeFormatStr","locale","label_from","label_to","fds","longDateFormatStr","fde","details","label_details","week_title","date","weekStart","add","headerWeekFormatStr","day_title","headerFormatStr","calendar_event","day","getDate","calendar_day","event_date","parseInt","weekDateFormatStr","event_time","label_allday","event_marker","event_title","eventClass","timeStart","marker","textColor","month_event_title","day_event","multi_day_event","new_event_data","hours","getHours","copy","this","coreData","getValue","setHours","defaults","hourFormat","hourClock","firstHour","lastHour","timeScaleWidth","minEventHeight","timeScaleHeight","scroll","scaleBorder","eventOffset","separateShortEvents","$init","_dataobj","$view","firstChild","position","className","data","provideApi","attachEvent","bind","render","window","scale_width","min_event_height","scale_height","isVisible","id","$blockRender","callEvent","_renderScale","_prepareEvents","templateCss","innerHTML","getRange","map","_toHTML","join","_htmlmap","getItemNode","search_id","t","childNodes","i","length","getAttribute","_id","mark","getMark","content","$template","templateStart","templateEnd","h","hourScaleItem","on_click","hour","d","dateToStr","hourHeight","sectionWidth","Math","floor","heightTop","eventZoneWidth","$width","aria","common","sel","templateColor","classname","padding","ev","j","k","_is_sorder","_max_sorder","_sorder_set","evs","stack","_minMappedDuration","ceil","$inner","_getEventEndDate","splice","$sorder","push","max_count","$count","_setPosition","sh","eh","setMinutes","temp_width","$left","sm","getMinutes","em","$top","round","$height","max","ev_duration","$setSize","x","y","view","prototype","call","list","icon","$renderIcon","height","aheight","inputPadding","once","_after_render","event","getInputNode","e","code","which","keyCode","triggerEvent","document","activeElement","setValue","forceReset","oldvalue","changed","$setValue","format","_typeof","dateFormat_setter","strToDate","getElementsByTagName","richselect","units","_setUnits","_getUnitRange","noEvents","$unit","templateStartHeader","templateHeader","u","unit","extend","getTopParentView","next","result","_correctEventsDates","getEvents","headerHeight","margin","apply","arguments","$selected","layout","x_count","cellHeight","webix_cal_day_num","define","activeCell_setter","activeCell","c","cellWidth","MouseEvents","EventSystem","recView","$$","arr","split","typeToId","datetext","skipEvent","endlessDate","never","getItem","select","getSelected","setValues","dayCount","getValues","form","getDay","weekCount","weekDays","elementsConfig","labelWidth","rows","labelRight","calendar","dayFull","topParent","expand","monthCount","weekDayM","weekCountM","monthDayM","res","collapsed","yearCount","weekDayY","weekCountY","monthDayY","getMonth","head","body","click","getParentView","_callback","labelSeries_setter","_body_cell","_cells","labelEvent_setter","labelCancel_setter","alert","rec_dialog","single","week_tab","day_tab","month_tab","icon_today","icon_add","icon_save","icon_done","icon_delete","icon_cancel","icon_edit","icon_back","icon_close","icon_yes","icon_no","icon_prev_day","icon_next_day","icon_prev_week","icon_next_week","confirm_closing","confirm_deleting","label_event","label_start","label_end","label_time","label_no_events","none","daily","every","weekly","week","each","on_day","monthly","month","month_day","week_day","yearly","year","counters","repeat","end_repeat","endless_repeat","end_repeat_label","edit_message","edit_series","edit_occurrence","delete_message","delete_series","delete_occurrence","modConfig","confirm_height","confirm_width","list_header_height","list_height","all_day","month_list_height","label_end_repeat","label_end_by","label_every","work_days","modTemplates","ready","Locale","init","dateFormat","hourPart","match","aPart","bottom_toolbar","inputWidth","align","width","mode","multiview","options","batch","day_toolbar","week_toolbar","selected_toolbar","form_toolbar","date_toolbar","listType","cssNoEvents","types","event_list","day_event_list","multi_day_list","marks","$css","webix_selected","weekevents","DataDriver","records","xml","tabViews","cols","autoheight","yCount","elements","startDate","icons","dayWithEvents","dayNoEvents","calendarHeader","concat","delete_button","screen","animate","env","touch","cells","visibleBatch","paddingX","rules","timepickerHeight","calendarTime","timepicker","hourStart","version","_setDateMethods","weekDateFormat","formDate","formAllDayFormat","timeFormat","fullDateFormat","fullDateFormatUTC","longDateFormat","loadDateFormat","helpers","key","utc","setLocale","scheme","fullDateFormatDate","$update","$serialize","fullDateFormatStr","$ready","_initStructure","syncData","target","filter","events","clearAll","tpull","pull","torder","order","_syncAllViews","resize","getWeekTitle","getDayTitle","getTodayMultiEvents","dateStart","dateEnd","equal","getWeekEvents","getTodayEvents","_setMonthFlags","top","getVisibleDate","setDate","_eventsByDate","_initHotKeys","getSelectedId","locate","_on_event_clicked","UIManager","addHotKey","_initToolbars","_initMonth","DataValue","selectedEvent","DataRecord","readonly","dayTitle","weekTitle","_sortDates","_isFormCalendarZoomed","_load_mode","_load_url","load","_loaded_ranges","_onViewChanged","show","_initForm","dateField","zoom","hide","unselectAll","_last_selected","setCursor","blockEvent","sort","a","b","unblockEvent","_isMonthCalendarZoomed","oldDate","today","getYear","animateView","getBody","direction","dayTemplate","from","to","endDate","rec_type","event_length","inc","view_id","innerId","getActiveId","self","confirm","title","message","callback","_addEvent","ok","cancel","_editEvent","back","getCursor","_saveEvent","_deleteEvent","_showDateForm","selectDate","field","_setDefaultDates","validate","_setAllDay","_confirmViewChange","readonly_setter","val","showBatch","_clearNoEventsStyle","dataCount","replace","RegExp","editEvent","save","uid","_trim","remove","header","clear","clearValidation","eventDefaultDate","labelOk","labelCancel","allDay","delay","_checkAllDay","formAllDayFormatStr","formDateStr","fields","_event_date","setLoadMode","url","args","indexOf","getTimezoneOffset","lf","loadDateFormatStr","temp_to","DataLoader","IdSpace","Settings","endRepeat","getValueBase","getEventsBase","out","repeat_date","_saveEventBase","event_pid","_add_rec_marker","_editEventBase","item","_applyRecExeption","labelSeries","labelEvent","_deleteEventBase","hidden","_recTypeState","rec_pattern","_rec_markers","_rec_markers_pull","time","_pid_time","_get_rec_marker","ch","_get_rec_markers","transponse_size","day_week","sd","nday","transpose_day_week","cor","size","cor2","cday","startOnMonday","transpose_type","f","str","step","days","nd","td","delta","count","getFullYear","setMonth","sub","hasOwnProperty","ted","shift","recurring_bar","recurring_views_list","rec_list_item","rec_init_form","datatype","maxHeight","end_repeat_form","paddingY","vertical","daily_form","selected_event_base","ed","weekly_form","borderless","monthDays","rec_month_d","rec_month_w","rec_month_d_blured","rec_month_w_blured","week_day_counters","week_day_labels","monthly_form","headerAltHeight","headerAlt","year_months","month_short","monthShort","yearly_form","recurring_views","_setEvents","idToType","_showRecViewsList","_applyRecurrence","_showRecView","_setEndDate","v1","v2","typeArr","recType","pop","end_by","_setEndByVisibility"],"mappings":"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"}