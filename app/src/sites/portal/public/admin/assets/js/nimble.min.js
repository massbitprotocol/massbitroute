!function(n){function t(c,i){var u=Array.prototype[c];return function(n,t,r){var e=n?n[c]:0;return e&&e===u?e.call(n,t,r):i(n,t,r)}}function e(n,r,e){var c=n.length||f(n).length;if(!c)return e();var i=0;o(n,function(){function n(n){n?(e(n),e=function(){}):++i===c&&e()}var t=Array.prototype.slice.call(arguments);r.length?(t=t.slice(0,r.length-1))[r.length-1]=n:t.push(n),r.apply(this,t)})}function r(r,e,c){var i=f(r);if(!i.length)return c();var u=0,o=function(){var n=i[u],t=[r[n],n,r].slice(0,e.length-1);t[e.length-1]=function(n){n?(c(n),c=function(){}):++u===i.length?c():o()},e.apply(this,t)};o()}function c(r){return function(n,u,t){var o=[];r(n,function(n,t,r,e){function c(n,t){o[o.length]=t,e(n)}var i=[n,t,r];u.length?(i=i.slice(0,u.length-1))[u.length-1]=c:i.push(c),u.apply(this,i)},function(n){t(n,o)})}}function i(n,u,t){var o=[];e(n,function(r,n,t,e){function c(n,t){t&&(o[o.length]=r),e(n)}var i=[r,n,t];u.length?(i=i.slice(0,u.length-1))[u.length-1]=c:i.push(c),u.apply(this,i)},function(n){t(n,o)})}function u(n,u,o,t){r(n,function(n,t,r,e){function c(n,t){o=t,e(n)}var i=[o,n,t,r];u.length?(i=i.slice(0,u.length-1))[u.length-1]=c:i.push(c),u.apply(this,i)},function(n){t(n,o)})}var f=Object.keys||function(n){var t=[];for(var r in n)n.hasOwnProperty(r)&&t.push(r);return t},o=t("forEach",function(n,t){for(var r=n instanceof Object,e=r?f(n):n||[],c=0,i=e.length;c<i;c++){var u=r?e[c]:c;t(n[u],u,n)}}),l=t("map",function(n,e){var c=[];return o(n,function(n,t,r){c[c.length]=e(n,t,r)}),c}),a=t("filter",function(n,e,t){var c=[];return o(n,function(n,t,r){e(n,t,r)&&(c[c.length]=n)}),c}),h=t("reduce",function(n,e,c){return o(n,function(n,t,r){c=e(c,n,t,r)}),c});n.each=function(n,t,r){return(r?e:o)(n,t,r)},n.map=function(n,t,r){return(r?c(e):l)(n,t,r)},n.filter=function(n,t,r){return(r?i:a)(n,t,r)},n.reduce=function(n,t,r,e){return(e?u:h)(n,t,r,e)},n.parallel=function(n,t){var c=new n.constructor;e(n,function(n,r,e){n(function(n){var t=Array.prototype.slice.call(arguments,1);c[r]=t.length<=1?t[0]:t,e(n)})},function(n){(t||function(){})(n,c)})},n.series=function(n,t){var i=new n.constructor;r(n,function(n,e,c){n(function(n,t){var r=Array.prototype.slice.call(arguments,1);i[e]=r.length<=1?r[0]:r,c(n)})},function(n){(t||function(){})(n,i)})}}("undefined"==typeof exports?this._=this._||{}:exports);
